# Database Component - PHPDoc Refactoring Plan

## Objective

Apply Explicit Contract commenting standards to entire Database component.

## Priority Order (Frozen Core First)

### ðŸ”´ Priority 1: Core Infrastructure (Must be perfect)

- [x] `Foundation/Connection/Pool/BorrowedConnection.php` â€” Already done
- [ ] `QueryBuilder/Core/Builder/QueryBuilder.php`
- [ ] `QueryBuilder/Core/Executor/QueryOrchestrator.php`
- [ ] `Foundation/Query/QueryState.php`
- [ ] `Foundation/Connection/Pool/ConnectionPool.php`
- [ ] `Foundation/Events/EventBus.php`
- [ ] `QueryBuilder/Core/Grammar/BaseGrammar.php`
- [ ] `QueryBuilder/Core/Grammar/MySQLGrammar.php`

### ðŸŸ¡ Priority 2: Supporting Infrastructure

- [ ] `Foundation/Connection/Pool/PooledConnectionAuthority.php`
- [ ] `Foundation/Query/ValueObjects/BindingBag.php`
- [ ] `QueryBuilder/Core/Executor/PDOExecutor.php`
- [ ] `Foundation/Events/QueryExecuted.php`
- [ ] `Foundation/Events/Subscribers/DatabaseLoggerSubscriber.php`
- [ ] `Foundation/Support/ExecutionScope.php`

### ðŸŸ¢ Priority 3: Traits & Concerns

- [ ] `QueryBuilder/Core/Builder/Concerns/HasConditions.php`
- [ ] `QueryBuilder/Core/Builder/Concerns/HasJoins.php`
- [ ] `QueryBuilder/Core/Builder/Concerns/HasAggregates.php`
- [ ] `QueryBuilder/Core/Builder/Concerns/HasOrders.php`
- [ ] `QueryBuilder/Core/Builder/Concerns/HasGroups.php`
- [ ] `QueryBuilder/Core/Builder/Concerns/HasSoftDeletes.php`
- [ ] `QueryBuilder/Core/Builder/Concerns/HasControlStructures.php`
- [ ] `QueryBuilder/Core/Builder/Concerns/HasAdvancedMutations.php`
- [ ] `QueryBuilder/Core/Builder/Concerns/HasSchema.php`

### ðŸ”µ Priority 4: AST & Value Objects

- [ ] `Foundation/Query/AST/WhereNode.php`
- [ ] `Foundation/Query/AST/JoinNode.php`
- [ ] `Foundation/Query/AST/OrderNode.php`
- [ ] `Foundation/Query/AST/NestedWhereNode.php`
- [ ] `QueryBuilder/ValueObjects/Expression.php`

### âšª Priority 5: Remaining Files

- All other files in alphabetical order

## Commenting Standard Applied

For each file:

### Class-level

- Clear description
- `-- intent:` section
- `-- invariants:` (where applicable)
- `-- boundaries:` (what it does NOT do)
- `-- misuse warning:` (where needed)

### Public methods

- Intent statement
- `@param` â€” ALL parameters with semantic descriptions
- `@throws` â€” ALL exceptions
- `@return` â€” Always (last tag)

### Tag order

1. Summary
2. Intent/details
3. `@param`
4. `@throws`
5. `@return`

---

## Progress Tracker

Started: 2025-12-27 00:04
Core files completed: 1/8
Total estimated time: 4-6 hours for full component
