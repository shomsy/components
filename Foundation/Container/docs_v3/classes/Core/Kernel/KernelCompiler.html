<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>KernelCompiler</title>
    <link href="../../../styles.css" rel="stylesheet">
</head>
<body>
<div class="layout">
                        <aside class="sidebar">
        <div class="brand"><a href="../../../index.html">Container Docs</a></div>
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search...">
        </div>
        <nav>
            <div class="nav-section">
                <h3 class="nav-title">Container (Root)</h3>
                <ul class="nav-list">
                    <li><a href="../../Container.html">Container</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Act/Inject</h3>
                <ul class="nav-list">
                    <li><a href="../../Act/Inject/InjectDependencies.html">InjectDependencies</a></li>
                    <li><a href="../../Act/Inject/PropertyInjector.html">PropertyInjector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Advanced/Lazy</h3>
                <ul class="nav-list">
                    <li><a href="../../Actions/Advanced/Lazy/LazyInterface.html">LazyInterface</a></li>
                    <li><a href="../../Actions/Advanced/Lazy/LazyValue.html">LazyValue</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Inject</h3>
                <ul class="nav-list">
                    <li><a href="../../Actions/Inject/InjectDependencies.html">InjectDependencies</a></li>
                    <li><a href="../../Actions/Inject/PropertyInjector.html">PropertyInjector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Inject/Resolvers</h3>
                <ul class="nav-list">
                    <li><a href="../../Actions/Inject/Resolvers/PropertyResolution.html">PropertyResolution</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Instantiate</h3>
                <ul class="nav-list">
                    <li><a href="../../Actions/Instantiate/Instantiator.html">Instantiator</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Invoke/Cache</h3>
                <ul class="nav-list">
                    <li><a href="../../Actions/Invoke/Cache/ReflectionCache.html">ReflectionCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Lazy</h3>
                <ul class="nav-list">
                    <li><a href="../../Advanced/Lazy/LazyInterface.html">LazyInterface</a></li>
                    <li><a href="../../Advanced/Lazy/LazyValue.html">LazyValue</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Observe</h3>
                <ul class="nav-list">
                    <li><a href="../../Advanced/Observe/DiagnosticsFlow.html">DiagnosticsFlow</a></li>
                    <li><a href="../../Advanced/Observe/Telemetry.html">Telemetry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Policy</h3>
                <ul class="nav-list">
                    <li><a href="../../Advanced/Policy/PolicyFlow.html">PolicyFlow</a></li>
                    <li><a href="../../Advanced/Policy/Security.html">Security</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core</h3>
                <ul class="nav-list">
                    <li><a href="../Container.html">Container</a></li>
                    <li><a href="../ContainerBuilder.html">ContainerBuilder</a></li>
                    <li><a href="../ContainerConfig.html">ContainerConfig</a></li>
                    <li><a href="../ContainerEngine.html">ContainerEngine</a></li>
                    <li><a href="../ContainerKernel.html">ContainerKernel</a></li>
                    <li><a href="../ResolutionEngine.html">ResolutionEngine</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Attribute</h3>
                <ul class="nav-list">
                    <li><a href="../Attribute/Inject.html">Inject</a></li>
                    <li><a href="../Attribute/Singleton.html">Singleton</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/DTO</h3>
                <ul class="nav-list">
                    <li><a href="../DTO/ErrorDTO.html">ErrorDTO</a></li>
                    <li><a href="../DTO/InjectionReport.html">InjectionReport</a></li>
                    <li><a href="../DTO/SuccessDTO.html">SuccessDTO</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Enum</h3>
                <ul class="nav-list">
                    <li><a href="../Enum/ServiceLifetime.html">ServiceLifetime</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Exceptions</h3>
                <ul class="nav-list">
                    <li><a href="../Exceptions/ContainerExceptions.html">ContainerExceptions</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel</h3>
                <ul class="nav-list">
                    <li><a href="KernelCompiler.html">KernelCompiler</a></li>
                    <li><a href="KernelConfig.html">KernelConfig</a></li>
                    <li><a href="KernelFacade.html">KernelFacade</a></li>
                    <li><a href="KernelRuntime.html">KernelRuntime</a></li>
                    <li><a href="KernelState.html">KernelState</a></li>
                    <li><a href="LifecycleResolver.html">LifecycleResolver</a></li>
                    <li><a href="LifecycleStrategyRegistry.html">LifecycleStrategyRegistry</a></li>
                    <li><a href="ResolutionPipeline.html">ResolutionPipeline</a></li>
                    <li><a href="ResolutionPipelineBuilder.html">ResolutionPipelineBuilder</a></li>
                    <li><a href="StepTelemetryCollector.html">StepTelemetryCollector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Contracts</h3>
                <ul class="nav-list">
                    <li><a href="Contracts/KernelContext.html">KernelContext</a></li>
                    <li><a href="Contracts/KernelStep.html">KernelStep</a></li>
                    <li><a href="Contracts/LifecycleStrategy.html">LifecycleStrategy</a></li>
                    <li><a href="Contracts/StepTelemetry.html">StepTelemetry</a></li>
                    <li><a href="Contracts/TerminalKernelStep.html">TerminalKernelStep</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Events</h3>
                <ul class="nav-list">
                    <li><a href="Events/StepFailed.html">StepFailed</a></li>
                    <li><a href="Events/StepStarted.html">StepStarted</a></li>
                    <li><a href="Events/StepSucceeded.html">StepSucceeded</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Steps</h3>
                <ul class="nav-list">
                    <li><a href="Steps/AnalyzePrototypeStep.html">AnalyzePrototypeStep</a></li>
                    <li><a href="Steps/ApplyExtendersStep.html">ApplyExtendersStep</a></li>
                    <li><a href="Steps/CircularDependencyStep.html">CircularDependencyStep</a></li>
                    <li><a href="Steps/CollectDiagnosticsStep.html">CollectDiagnosticsStep</a></li>
                    <li><a href="Steps/DepthGuardStep.html">DepthGuardStep</a></li>
                    <li><a href="Steps/EnsureDefinitionExistsStep.html">EnsureDefinitionExistsStep</a></li>
                    <li><a href="Steps/GuardPolicyStep.html">GuardPolicyStep</a></li>
                    <li><a href="Steps/InjectDependenciesStep.html">InjectDependenciesStep</a></li>
                    <li><a href="Steps/InvokePostConstructStep.html">InvokePostConstructStep</a></li>
                    <li><a href="Steps/ResolveInstanceStep.html">ResolveInstanceStep</a></li>
                    <li><a href="Steps/RetrieveFromScopeStep.html">RetrieveFromScopeStep</a></li>
                    <li><a href="Steps/StoreLifecycleStep.html">StoreLifecycleStep</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Strategies</h3>
                <ul class="nav-list">
                    <li><a href="Strategies/ScopedLifecycleStrategy.html">ScopedLifecycleStrategy</a></li>
                    <li><a href="Strategies/SingletonLifecycleStrategy.html">SingletonLifecycleStrategy</a></li>
                    <li><a href="Strategies/TransientLifecycleStrategy.html">TransientLifecycleStrategy</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Utils</h3>
                <ul class="nav-list">
                    <li><a href="../Utils/ArrayTools.html">ArrayTools</a></li>
                    <li><a href="../Utils/StrTools.html">StrTools</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Bind</h3>
                <ul class="nav-list">
                    <li><a href="../../Define/Bind/BindingBuilder.html">BindingBuilder</a></li>
                    <li><a href="../../Define/Bind/ContextBuilder.html">ContextBuilder</a></li>
                    <li><a href="../../Define/Bind/Registrar.html">Registrar</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Store</h3>
                <ul class="nav-list">
                    <li><a href="../../Define/Store/DefinitionStore.html">DefinitionStore</a></li>
                    <li><a href="../../Define/Store/ServiceDefinition.html">ServiceDefinition</a></li>
                    <li><a href="../../Define/Store/ServiceDefinitionEntity.html">ServiceDefinitionEntity</a></li>
                    <li><a href="../../Define/Store/ServiceDiscovery.html">ServiceDiscovery</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Store/Compiler</h3>
                <ul class="nav-list">
                    <li><a href="../../Define/Store/Compiler/CompilerPassInterface.html">CompilerPassInterface</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke</h3>
                <ul class="nav-list">
                    <li><a href="../../Invoke/InvocationExecutor.html">InvocationExecutor</a></li>
                    <li><a href="../../Invoke/InvokeAction.html">InvokeAction</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke/Cache</h3>
                <ul class="nav-list">
                    <li><a href="../../Invoke/Cache/ReflectionCache.html">ReflectionCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke/Context</h3>
                <ul class="nav-list">
                    <li><a href="../../Invoke/Context/InvocationContext.html">InvocationContext</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate</h3>
                <ul class="nav-list">
                    <li><a href="../../Operate/ScopeManager.html">ScopeManager</a></li>
                    <li><a href="../../Operate/ScopeRegistry.html">ScopeRegistry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Boot</h3>
                <ul class="nav-list">
                    <li><a href="../../Operate/Boot/Application.html">Application</a></li>
                    <li><a href="../../Operate/Boot/ApplicationBuilder.html">ApplicationBuilder</a></li>
                    <li><a href="../../Operate/Boot/ContainerBootstrapper.html">ContainerBootstrapper</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Config</h3>
                <ul class="nav-list">
                    <li><a href="../../Operate/Config/BootstrapProfile.html">BootstrapProfile</a></li>
                    <li><a href="../../Operate/Config/ContainerConfig.html">ContainerConfig</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Scope</h3>
                <ul class="nav-list">
                    <li><a href="../../Operate/Scope/ScopeManager.html">ScopeManager</a></li>
                    <li><a href="../../Operate/Scope/ScopeRegistry.html">ScopeRegistry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Shutdown</h3>
                <ul class="nav-list">
                    <li><a href="../../Operate/Shutdown/TerminateContainer.html">TerminateContainer</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve</h3>
                <ul class="nav-list">
                    <li><a href="../../Resolve/DependencyResolver.html">DependencyResolver</a></li>
                    <li><a href="../../Resolve/ResolutionContext.html">ResolutionContext</a></li>
                    <li><a href="../../Resolve/ResolutionEngine.html">ResolutionEngine</a></li>
                    <li><a href="../../Resolve/ResolutionPipeline.html">ResolutionPipeline</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve/Pipes</h3>
                <ul class="nav-list">
                    <li><a href="../../Resolve/Pipes/AutowirePipe.html">AutowirePipe</a></li>
                    <li><a href="../../Resolve/Pipes/BindingPipe.html">BindingPipe</a></li>
                    <li><a href="../../Resolve/Pipes/ScopePipe.html">ScopePipe</a></li>
                    <li><a href="../../Resolve/Pipes/TerminalPipe.html">TerminalPipe</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve/Resolvers</h3>
                <ul class="nav-list">
                    <li><a href="../../Resolve/Resolvers/DefaultResolver.html">DefaultResolver</a></li>
                    <li><a href="../../Resolve/Resolvers/ExceptionResolver.html">ExceptionResolver</a></li>
                    <li><a href="../../Resolve/Resolvers/NullResolver.html">NullResolver</a></li>
                    <li><a href="../../Resolve/Resolvers/OverrideResolver.html">OverrideResolver</a></li>
                    <li><a href="../../Resolve/Resolvers/ParameterResolutionChain.html">ParameterResolutionChain</a></li>
                    <li><a href="../../Resolve/Resolvers/ParameterResolver.html">ParameterResolver</a></li>
                    <li><a href="../../Resolve/Resolvers/TypeResolver.html">TypeResolver</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Analyze</h3>
                <ul class="nav-list">
                    <li><a href="../../Think/Analyze/PrototypeAnalyzer.html">PrototypeAnalyzer</a></li>
                    <li><a href="../../Think/Analyze/ReflectionTypeAnalyzer.html">ReflectionTypeAnalyzer</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Cache</h3>
                <ul class="nav-list">
                    <li><a href="../../Think/Cache/FilePrototypeCache.html">FilePrototypeCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Model</h3>
                <ul class="nav-list">
                    <li><a href="../../Think/Model/MethodPrototype.html">MethodPrototype</a></li>
                    <li><a href="../../Think/Model/ParameterPrototype.html">ParameterPrototype</a></li>
                    <li><a href="../../Think/Model/PropertyPrototype.html">PropertyPrototype</a></li>
                    <li><a href="../../Think/Model/ServicePrototype.html">ServicePrototype</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Prototype</h3>
                <ul class="nav-list">
                    <li><a href="../../Think/Prototype/ServicePrototypeFactory.html">ServicePrototypeFactory</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Prototype/Contracts</h3>
                <ul class="nav-list">
                    <li><a href="../../Think/Prototype/Contracts/ServicePrototypeFactoryInterface.html">ServicePrototypeFactoryInterface</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Verify</h3>
                <ul class="nav-list">
                    <li><a href="../../Think/Verify/VerifyPrototype.html">VerifyPrototype</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Guidelines</h3>
                <ul class="nav-list">
                    <li><a href="../../../master-prompt.html">Master Prompt</a></li>
                </ul>
            </div>
        </nav>
    </aside>
    <main class="content">
        <section class="hero">
            <h1>KernelCompiler</h1>
            <p>Build-time Logic and Validation</p>
            <div class="meta">Foundation/Container/Core/Kernel/KernelCompiler.php</div>
        </section>

        <section class="section">
            <h2>Class Overview</h2>
            <div class="card">
                <p>KernelCompiler handles service compilation, validation, and cache management. It performs expensive build-time operations to optimize runtime performance, validating service configurations and pre-computing analysis results.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To perform expensive validation and analysis at build time</p>
                    <p>- To catch configuration errors before runtime</p>
                    <p>- To pre-compute reflection results for performance</p>
                    <p>- To provide compilation statistics and diagnostics</p>
                    <p><strong>HOW IT FITS IN THE LIFECYCLE:</strong></p>
                    <p>The compiler runs during application bootstrap:</p>
                    <p>1. <strong>Registration</strong>: Services registered via KernelFacade</p>
                    <p>2. <strong>Compilation</strong>: KernelCompiler validates and caches</p>
                    <p>3. <strong>Runtime</strong>: KernelRuntime uses cached results</p>
                    <p><strong>COMPILATION PHASES:</strong></p>
                    <p>- Analysis: Extract constructor/method signatures</p>
                    <p>- Validation: Check dependency graphs and types</p>
                    <p>- Caching: Store prototypes for runtime use</p>
                    <p>- Statistics: Report compilation metrics</p>
                </details>
            </div>
        </section>

        <section class="section">
            <h2>Application Compilation Examples</h2>

            <div class="card">
                <h3>Production Bootstrap with Compilation</h3>
                <pre><code class="language-php">// Bootstrap with compilation for production performance
class Application {
    private Container $container;

    public function __construct() {
        $this->container = ContainerBuilder::create()->build();

        // Register all services
        $this->registerServices();

        // Compile for production (expensive but optimizes runtime)
        if ($this->isProduction()) {
            $stats = $this->container->compile();
            $this->logCompilationStats($stats);
        }
    }

    private function registerServices(): void {
        // Register hundreds of services...
        $this->container->bind(DatabaseInterface::class, MySqlDatabase::class);
        $this->container->singleton(CacheInterface::class, RedisCache::class);
        // ... many more bindings
    }

    private function logCompilationStats(array $stats): void {
        error_log("Compiled {$stats['compiled_services']} services in {$stats['compilation_time']}s");
        if ($stats['validation_errors'] > 0) {
            error_log("Warning: {$stats['validation_errors']} validation errors during compilation");
        }
    }
}</code></pre>
            </div>

            <div class="card">
                <h3>Development Validation</h3>
                <pre><code class="language-php">// Development mode - validate without full compilation
class DevelopmentContainer {
    public static function create(): Container {
        $container = ContainerBuilder::create()->build();

        // Register services in development
        $container->bind(UserService::class, UserService::class);
        $container->bind(EmailService::class, LogOnlyEmailService::class); // Mock

        // Validate configuration (fast, catches errors early)
        try {
            $container->validate();
            echo "‚úÖ All services validated successfully\n";
        } catch (Exception $e) {
            echo "‚ùå Validation failed: " . $e->getMessage() . "\n";
            // Fix configuration before proceeding
        }

        return $container;
    }
}</code></pre>
            </div>

            <div class="card">
                <h3>Deployment Script with Cache Management</h3>
                <pre><code class="language-php">// deployment.php - Optimize for production deployment
$container = require 'bootstrap.php';

// Clear old caches from previous deployment
$container->clearCache();
echo "üßπ Cleared old compilation cache\n";

// Full compilation for production
$start = microtime(true);
$stats = $container->compile();
$time = round(microtime(true) - $start, 2);

echo "‚ö° Compiled {$stats['compiled_services']} services in {$time}s\n";
echo "üìä Cache size: {$stats['cache_size']} prototypes\n";

if ($stats['validation_errors'] > 0) {
    echo "‚ö†Ô∏è  {$stats['validation_errors']} validation errors found\n";
    exit(1); // Fail deployment on validation errors
}

echo "üöÄ Container ready for production!\n";</code></pre>
            </div>

            <div class="card">
                <h3>CI/CD Pipeline Integration</h3>
                <pre><code class="language-php">// CI pipeline - validate container configuration
class ContainerTest extends TestCase {
    public function testContainerCompilation(): void {
        $container = $this->createTestContainer();

        // Validate all service configurations
        $container->validate();
        $this->assertTrue(true, 'Container validation passed');

        // Test compilation doesn't throw exceptions
        $stats = $container->compile();

        $this->assertGreaterThan(0, $stats['compiled_services']);
        $this->assertEquals(0, $stats['validation_errors']);
        $this->assertLessThan(5.0, $stats['compilation_time']); // Reasonable time
    }

    public function testCompilationStats(): void {
        $container = $this->createTestContainer();
        $stats = $container->compile();

        // Verify we have expected services compiled
        $this->assertEquals(15, $stats['compiled_services']); // Expected count
        $this->assertGreaterThanOrEqual($stats['compiled_services'], $stats['cache_size']);
    }
}</code></pre>
            </div>
        </section>

        <section class="section">
            <h2>Methods</h2>

            <div class="card" id="__construct">
                <h3>__construct</h3>
                <p>Initialize compiler with core components.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To establish the compilation environment with necessary collaborators</p>
                    <p>- To configure metrics collection for compilation monitoring</p>
                    <p>- To prepare the compiler for service analysis and validation</p>
                    <p><strong>DEPENDENCY INJECTION:</strong></p>
                    <p>The compiler receives its core dependencies:</p>
                    <p><em>DefinitionStore</em>: Source of service definitions to compile</p>
                    <p><em>ServicePrototypeFactory</em>: Factory for creating service prototypes</p>
                    <p><em>CollectMetrics</em>: Optional metrics collector for compilation statistics</p>
                    <p><strong>OPTIONAL METRICS:</strong></p>
                    <p>Metrics collection is optional - compiler works without it, but provides richer diagnostics when available.</p>
                </details>
            </div>

            <div class="card" id="compile">
                <h3>compile</h3>
                <p>Compile all service definitions and return statistics.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To perform comprehensive build-time optimization</p>
                    <p>- To validate all service configurations before runtime</p>
                    <p>- To generate performance statistics for monitoring</p>
                    <p>- To cache analysis results for faster runtime resolution</p>
                    <p><strong>COMPILATION PROCESS:</strong></p>
                    <p>1. <strong>Iterate Definitions</strong>: Process each registered service</p>
                    <p>2. <strong>Resolve Classes</strong>: Extract concrete class names</p>
                    <p>3. <strong>Generate Prototypes</strong>: Create analysis blueprints</p>
                    <p>4. <strong>Validate</strong>: Check for configuration errors</p>
                    <p>5. <strong>Cache</strong>: Store results for runtime use</p>
                    <p>6. <strong>Collect Statistics</strong>: Track performance and errors</p>
                    <p><strong>ERROR HANDLING:</strong></p>
                    <p>Compilation continues despite individual service failures:</p>
                    <p>- Errors are logged to metrics if available</p>
                    <p>- Failed services are counted but don't stop compilation</p>
                    <p>- Final statistics include error counts</p>
                    <p><strong>RETURN VALUE:</strong></p>
                    <p>Detailed statistics array with:</p>
                    <p>- compiled_services: Successfully processed services</p>
                    <p>- cache_size: Total cached prototypes</p>
                    <p>- compilation_time: Total processing time</p>
                    <p>- validation_errors: Number of failed validations</p>
                </details>
            </div>

            <div class="card" id="validate">
                <h3>validate</h3>
                <p>Validate all service definitions without compilation.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To check service configurations without expensive caching</p>
                    <p>- To catch errors early in development and CI/CD</p>
                    <p>- To validate dependency injection compatibility</p>
                    <p>- To ensure container can resolve all registered services</p>
                    <p><strong>VALIDATION SCOPE:</strong></p>
                    <p>Checks for:</p>
                    <p>- Class existence and instantiability</p>
                    <p>- Constructor parameter compatibility</p>
                    <p>- Property/method injection points</p>
                    <p>- Circular dependency detection</p>
                    <p>- Type hint validation</p>
                    <p><strong>DIFFERENCE FROM compile():</strong></p>
                    <p>- validate(): Fast checks, no caching, throws on first error</p>
                    <p>- compile(): Comprehensive analysis, caching, continues despite errors</p>
                    <p><strong>USE CASES:</strong></p>
                    <p>- Development-time validation</p>
                    <p>- CI/CD pipeline checks</p>
                    <p>- Pre-deployment verification</p>
                    <p>- IDE integration for real-time feedback</p>
                </details>
            </div>

            <div class="card" id="clearCache">
                <h3>clearCache</h3>
                <p>Clear all caches.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To force fresh analysis after code changes</p>
                    <p>- To free memory in long-running applications</p>
                    <p>- To reset state between test runs</p>
                    <p>- To recover from corrupted cache state</p>
                    <p><strong>WHAT IT CLEARS:</strong></p>
                    <p>- Prototype cache (reflection analysis results)</p>
                    <p>- Compilation artifacts</p>
                    <p>- Any cached validation results</p>
                    <p><strong>IMPACT:</strong></p>
                    <p>- Next operations will be slower (no cached results)</p>
                    <p>- Memory usage decreases</p>
                    <p>- Forces re-validation of all services</p>
                    <p><strong>WHEN TO USE:</strong></p>
                    <p>- After deploying updated service classes</p>
                    <p>- During development when changing constructors</p>
                    <p>- When troubleshooting cache-related issues</p>
                    <p>- Between test suites to ensure clean state</p>
                </details>
            </div>

            <div class="card" id="stats">
                <h3>stats</h3>
                <p>Get compilation statistics with fallback defaults.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To provide compilation metrics for monitoring and debugging</p>
                    <p>- To offer fallback statistics when compilation hasn't run</p>
                    <p>- To normalize statistics format across different scenarios</p>
                    <p><strong>FALLBACK BEHAVIOR:</strong></p>
                    <p>When no compilation stats provided, generates defaults:</p>
                    <p>- Uses current cache size as proxy for compiled services</p>
                    <p>- Sets compilation time to 0.0 (not measured)</p>
                    <p>- Reports 0 validation errors</p>
                    <p><strong>STATISTICS STRUCTURE:</strong></p>
                    <p>Consistent format:</p>
                    <p><code>['compiled_services' => int, 'cache_size' => int, 'compilation_time' => float, 'validation_errors' => int]</code></p>
                    <p><strong>USE CASES:</strong></p>
                    <p>- Logging compilation performance</p>
                    <p>- Monitoring container health</p>
                    <p>- Debugging compilation issues</p>
                    <p>- Performance optimization</p>
                </details>
            </div>
        </section>
    </main>
</div>
</body>
</html>