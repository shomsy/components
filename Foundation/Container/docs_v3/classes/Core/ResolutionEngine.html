<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>ResolutionEngine - Foundation Container</title>
    <link href="../../styles.css" rel="stylesheet">
</head>
<body>
<div class="container">
                            <aside class="sidebar">
        <div class="brand"><a href="../../index.html">Container Docs</a></div>
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search...">
        </div>
        <nav>
            <div class="nav-section">
                <h3 class="nav-title">Container (Root)</h3>
                <ul class="nav-list">
                    <li><a href="../Container.html">Container</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Act/Inject</h3>
                <ul class="nav-list">
                    <li><a href="../Act/Inject/InjectDependencies.html">InjectDependencies</a></li>
                    <li><a href="../Act/Inject/PropertyInjector.html">PropertyInjector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Advanced/Lazy</h3>
                <ul class="nav-list">
                    <li><a href="../Actions/Advanced/Lazy/LazyInterface.html">LazyInterface</a></li>
                    <li><a href="../Actions/Advanced/Lazy/LazyValue.html">LazyValue</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Inject</h3>
                <ul class="nav-list">
                    <li><a href="../Actions/Inject/InjectDependencies.html">InjectDependencies</a></li>
                    <li><a href="../Actions/Inject/PropertyInjector.html">PropertyInjector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Inject/Resolvers</h3>
                <ul class="nav-list">
                    <li><a href="../Actions/Inject/Resolvers/PropertyResolution.html">PropertyResolution</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Instantiate</h3>
                <ul class="nav-list">
                    <li><a href="../Actions/Instantiate/Instantiator.html">Instantiator</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Invoke/Cache</h3>
                <ul class="nav-list">
                    <li><a href="../Actions/Invoke/Cache/ReflectionCache.html">ReflectionCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Lazy</h3>
                <ul class="nav-list">
                    <li><a href="../Advanced/Lazy/LazyInterface.html">LazyInterface</a></li>
                    <li><a href="../Advanced/Lazy/LazyValue.html">LazyValue</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Observe</h3>
                <ul class="nav-list">
                    <li><a href="../Advanced/Observe/DiagnosticsFlow.html">DiagnosticsFlow</a></li>
                    <li><a href="../Advanced/Observe/Telemetry.html">Telemetry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Policy</h3>
                <ul class="nav-list">
                    <li><a href="../Advanced/Policy/PolicyFlow.html">PolicyFlow</a></li>
                    <li><a href="../Advanced/Policy/Security.html">Security</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core</h3>
                <ul class="nav-list">
                    <li><a href="Container.html">Container</a></li>
                    <li><a href="ContainerBuilder.html">ContainerBuilder</a></li>
                    <li><a href="ContainerConfig.html">ContainerConfig</a></li>
                    <li><a href="ContainerEngine.html">ContainerEngine</a></li>
                    <li><a href="ContainerKernel.html">ContainerKernel</a></li>
                    <li><a href="ResolutionEngine.html">ResolutionEngine</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Attribute</h3>
                <ul class="nav-list">
                    <li><a href="Attribute/Inject.html">Inject</a></li>
                    <li><a href="Attribute/Singleton.html">Singleton</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/DTO</h3>
                <ul class="nav-list">
                    <li><a href="DTO/ErrorDTO.html">ErrorDTO</a></li>
                    <li><a href="DTO/InjectionReport.html">InjectionReport</a></li>
                    <li><a href="DTO/SuccessDTO.html">SuccessDTO</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Enum</h3>
                <ul class="nav-list">
                    <li><a href="Enum/ServiceLifetime.html">ServiceLifetime</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Exceptions</h3>
                <ul class="nav-list">
                    <li><a href="Exceptions/ContainerExceptions.html">ContainerExceptions</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel</h3>
                <ul class="nav-list">
                    <li><a href="Kernel/KernelCompiler.html">KernelCompiler</a></li>
                    <li><a href="Kernel/KernelConfig.html">KernelConfig</a></li>
                    <li><a href="Kernel/KernelFacade.html">KernelFacade</a></li>
                    <li><a href="Kernel/KernelRuntime.html">KernelRuntime</a></li>
                    <li><a href="Kernel/KernelState.html">KernelState</a></li>
                    <li><a href="Kernel/LifecycleResolver.html">LifecycleResolver</a></li>
                    <li><a href="Kernel/LifecycleStrategyRegistry.html">LifecycleStrategyRegistry</a></li>
                    <li><a href="Kernel/ResolutionPipeline.html">ResolutionPipeline</a></li>
                    <li><a href="Kernel/ResolutionPipelineBuilder.html">ResolutionPipelineBuilder</a></li>
                    <li><a href="Kernel/StepTelemetryCollector.html">StepTelemetryCollector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Contracts</h3>
                <ul class="nav-list">
                    <li><a href="Kernel/Contracts/KernelContext.html">KernelContext</a></li>
                    <li><a href="Kernel/Contracts/KernelStep.html">KernelStep</a></li>
                    <li><a href="Kernel/Contracts/LifecycleStrategy.html">LifecycleStrategy</a></li>
                    <li><a href="Kernel/Contracts/StepTelemetry.html">StepTelemetry</a></li>
                    <li><a href="Kernel/Contracts/TerminalKernelStep.html">TerminalKernelStep</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Events</h3>
                <ul class="nav-list">
                    <li><a href="Kernel/Events/StepFailed.html">StepFailed</a></li>
                    <li><a href="Kernel/Events/StepStarted.html">StepStarted</a></li>
                    <li><a href="Kernel/Events/StepSucceeded.html">StepSucceeded</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Steps</h3>
                <ul class="nav-list">
                    <li><a href="Kernel/Steps/AnalyzePrototypeStep.html">AnalyzePrototypeStep</a></li>
                    <li><a href="Kernel/Steps/ApplyExtendersStep.html">ApplyExtendersStep</a></li>
                    <li><a href="Kernel/Steps/CircularDependencyStep.html">CircularDependencyStep</a></li>
                    <li><a href="Kernel/Steps/CollectDiagnosticsStep.html">CollectDiagnosticsStep</a></li>
                    <li><a href="Kernel/Steps/DepthGuardStep.html">DepthGuardStep</a></li>
                    <li><a href="Kernel/Steps/EnsureDefinitionExistsStep.html">EnsureDefinitionExistsStep</a></li>
                    <li><a href="Kernel/Steps/GuardPolicyStep.html">GuardPolicyStep</a></li>
                    <li><a href="Kernel/Steps/InjectDependenciesStep.html">InjectDependenciesStep</a></li>
                    <li><a href="Kernel/Steps/InvokePostConstructStep.html">InvokePostConstructStep</a></li>
                    <li><a href="Kernel/Steps/ResolveInstanceStep.html">ResolveInstanceStep</a></li>
                    <li><a href="Kernel/Steps/RetrieveFromScopeStep.html">RetrieveFromScopeStep</a></li>
                    <li><a href="Kernel/Steps/StoreLifecycleStep.html">StoreLifecycleStep</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Strategies</h3>
                <ul class="nav-list">
                    <li><a href="Kernel/Strategies/ScopedLifecycleStrategy.html">ScopedLifecycleStrategy</a></li>
                    <li><a href="Kernel/Strategies/SingletonLifecycleStrategy.html">SingletonLifecycleStrategy</a></li>
                    <li><a href="Kernel/Strategies/TransientLifecycleStrategy.html">TransientLifecycleStrategy</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Utils</h3>
                <ul class="nav-list">
                    <li><a href="Utils/ArrayTools.html">ArrayTools</a></li>
                    <li><a href="Utils/StrTools.html">StrTools</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Bind</h3>
                <ul class="nav-list">
                    <li><a href="../Define/Bind/BindingBuilder.html">BindingBuilder</a></li>
                    <li><a href="../Define/Bind/ContextBuilder.html">ContextBuilder</a></li>
                    <li><a href="../Define/Bind/Registrar.html">Registrar</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Store</h3>
                <ul class="nav-list">
                    <li><a href="../Define/Store/DefinitionStore.html">DefinitionStore</a></li>
                    <li><a href="../Define/Store/ServiceDefinition.html">ServiceDefinition</a></li>
                    <li><a href="../Define/Store/ServiceDefinitionEntity.html">ServiceDefinitionEntity</a></li>
                    <li><a href="../Define/Store/ServiceDiscovery.html">ServiceDiscovery</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Store/Compiler</h3>
                <ul class="nav-list">
                    <li><a href="../Define/Store/Compiler/CompilerPassInterface.html">CompilerPassInterface</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke</h3>
                <ul class="nav-list">
                    <li><a href="../Invoke/InvocationExecutor.html">InvocationExecutor</a></li>
                    <li><a href="../Invoke/InvokeAction.html">InvokeAction</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke/Cache</h3>
                <ul class="nav-list">
                    <li><a href="../Invoke/Cache/ReflectionCache.html">ReflectionCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke/Context</h3>
                <ul class="nav-list">
                    <li><a href="../Invoke/Context/InvocationContext.html">InvocationContext</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate</h3>
                <ul class="nav-list">
                    <li><a href="../Operate/ScopeManager.html">ScopeManager</a></li>
                    <li><a href="../Operate/ScopeRegistry.html">ScopeRegistry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Boot</h3>
                <ul class="nav-list">
                    <li><a href="../Operate/Boot/Application.html">Application</a></li>
                    <li><a href="../Operate/Boot/ApplicationBuilder.html">ApplicationBuilder</a></li>
                    <li><a href="../Operate/Boot/ContainerBootstrapper.html">ContainerBootstrapper</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Config</h3>
                <ul class="nav-list">
                    <li><a href="../Operate/Config/BootstrapProfile.html">BootstrapProfile</a></li>
                    <li><a href="../Operate/Config/ContainerConfig.html">ContainerConfig</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Scope</h3>
                <ul class="nav-list">
                    <li><a href="../Operate/Scope/ScopeManager.html">ScopeManager</a></li>
                    <li><a href="../Operate/Scope/ScopeRegistry.html">ScopeRegistry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Shutdown</h3>
                <ul class="nav-list">
                    <li><a href="../Operate/Shutdown/TerminateContainer.html">TerminateContainer</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve</h3>
                <ul class="nav-list">
                    <li><a href="../Resolve/DependencyResolver.html">DependencyResolver</a></li>
                    <li><a href="../Resolve/ResolutionContext.html">ResolutionContext</a></li>
                    <li><a href="../Resolve/ResolutionEngine.html">ResolutionEngine</a></li>
                    <li><a href="../Resolve/ResolutionPipeline.html">ResolutionPipeline</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve/Pipes</h3>
                <ul class="nav-list">
                    <li><a href="../Resolve/Pipes/AutowirePipe.html">AutowirePipe</a></li>
                    <li><a href="../Resolve/Pipes/BindingPipe.html">BindingPipe</a></li>
                    <li><a href="../Resolve/Pipes/ScopePipe.html">ScopePipe</a></li>
                    <li><a href="../Resolve/Pipes/TerminalPipe.html">TerminalPipe</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve/Resolvers</h3>
                <ul class="nav-list">
                    <li><a href="../Resolve/Resolvers/DefaultResolver.html">DefaultResolver</a></li>
                    <li><a href="../Resolve/Resolvers/ExceptionResolver.html">ExceptionResolver</a></li>
                    <li><a href="../Resolve/Resolvers/NullResolver.html">NullResolver</a></li>
                    <li><a href="../Resolve/Resolvers/OverrideResolver.html">OverrideResolver</a></li>
                    <li><a href="../Resolve/Resolvers/ParameterResolutionChain.html">ParameterResolutionChain</a></li>
                    <li><a href="../Resolve/Resolvers/ParameterResolver.html">ParameterResolver</a></li>
                    <li><a href="../Resolve/Resolvers/TypeResolver.html">TypeResolver</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Analyze</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Analyze/PrototypeAnalyzer.html">PrototypeAnalyzer</a></li>
                    <li><a href="../Think/Analyze/ReflectionTypeAnalyzer.html">ReflectionTypeAnalyzer</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Cache</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Cache/FilePrototypeCache.html">FilePrototypeCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Model</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Model/MethodPrototype.html">MethodPrototype</a></li>
                    <li><a href="../Think/Model/ParameterPrototype.html">ParameterPrototype</a></li>
                    <li><a href="../Think/Model/PropertyPrototype.html">PropertyPrototype</a></li>
                    <li><a href="../Think/Model/ServicePrototype.html">ServicePrototype</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Prototype</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Prototype/ServicePrototypeFactory.html">ServicePrototypeFactory</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Prototype/Contracts</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Prototype/Contracts/ServicePrototypeFactoryInterface.html">ServicePrototypeFactoryInterface</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Verify</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Verify/VerifyPrototype.html">VerifyPrototype</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Guidelines</h3>
                <ul class="nav-list">
                    <li><a href="../../master-prompt.html">Master Prompt</a></li>
                </ul>
            </div>
        </nav>
    </aside>

    <main class="content">
        <header>
            <h1>ResolutionEngine</h1>
            <p>Simplified resolution engine implementation</p>
        </header>

        <section class="overview">
            <h2>Overview</h2>
            <p>The ResolutionEngine is a lightweight wrapper around ResolutionPipeline that provides the
                ResolutionEngineInterface contract while using the simplified pipeline internally. It removes the
                complex context and policy layers while maintaining the same public API as the original
                ResolutionEngine.</p>

            <div class="class-info">
                <div class="info-item">
                    <strong>Namespace:</strong> Avax\Container\Core\Act
                </div>
                <div class="info-item">
                    <strong>Implements:</strong> ResolutionEngineInterface
                </div>
                <div class="info-item">
                    <strong>Final:</strong> Yes
                </div>
            </div>
        </section>

        <section class="quick-start">
            <h2>Quick Start</h2>
            <pre><code class="language-php">use Avax\Container\Core\Act\ResolutionEngine;
use Avax\Container\Define\Store\DefinitionStore;
use Avax\Container\Operate\Scope\ScopeManager;
use Avax\Container\Think\Prototype\DependencyInjectionPrototypeFactory;

$engine = new ResolutionEngine(
    definitions: $definitions,
    scopes: $scopes,
    prototypeFactory: $prototypeFactory
);

// Resolve a service
$instance = $engine->resolve('UserService');</code></pre>
        </section>

        <section class="architecture">
            <h2>Architecture</h2>
            <p>The ResolutionEngine serves as a simplified facade for the ResolutionPipeline:</p>

            <div class="architecture-diagram">
                <div class="component">
                    <h4>Container</h4>
                    <p>Public API</p>
                </div>
                <div class="component">
                    <h4>ResolutionEngine</h4>
                    <p>Interface Contract</p>
                </div>
                <div class="component">
                    <h4>ResolutionPipeline</h4>
                    <p>Core Logic</p>
                </div>
            </div>

            <h3>Design Goals</h3>
            <ul>
                <li><strong>Simplified Interface:</strong> Minimal contract with essential methods</li>
                <li><strong>Direct Delegation:</strong> Pass-through to ResolutionPipeline</li>
                <li><strong>Error Handling:</strong> Consistent exception wrapping</li>
                <li><strong>Backward Compatibility:</strong> Same public API as original</li>
            </ul>
        </section>

        <section class="methods">
            <h2>Methods</h2>

            <div class="method">
                <h3 id="resolve">resolve(string $abstract, array $overrides = []): mixed</h3>
                <p>Resolve a service by its identifier.</p>

                <div class="method-details">
                    <strong>Parameters:</strong>
                    <ul>
                        <li><code>$abstract</code> (string) - The service identifier</li>
                        <li><code>$overrides</code> (array) - Explicit parameter overrides</li>
                    </ul>

                    <strong>Returns:</strong>
                    <ul>
                        <li>mixed - The resolved service instance</li>
                    </ul>

                    <strong>Throws:</strong>
                    <ul>
                        <li>ResolutionException - If resolution fails</li>
                        <li>ServiceNotFoundException - If service cannot be found</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="examples">
            <h2>Examples</h2>

            <h3>Basic Service Resolution</h3>
            <pre><code class="language-php">$userService = $engine->resolve('UserService');</code></pre>

            <h3>Resolution with Parameter Overrides</h3>
            <pre><code class="language-php">$userService = $engine->resolve(
    'UserService',
    ['logger' => $customLogger]
);</code></pre>

            <h3>Error Handling</h3>
            <pre><code class="language-php">try {
    $service = $engine->resolve('NonExistentService');
} catch (ServiceNotFoundException $e) {
    // Handle missing service
    echo "Service not found: " . $e->getMessage();
} catch (ResolutionException $e) {
    // Handle resolution failure
    echo "Resolution failed: " . $e->getMessage();
}</code></pre>
        </section>

        <section class="comparison">
            <h2>Before vs After</h2>

            <h3>Before (Complex Engine)</h3>
            <ul>
                <li>Complex ResolutionContext with depth tracking</li>
                <li>Fixed resolution depth limit</li>
                <li>Multiple resolution strategies</li>
                <li>Context-aware dependency resolution</li>
                <li>Extensive error handling and validation</li>
            </ul>

            <h3>After (Simplified Engine)</h3>
            <ul>
                <li>Simple string-based resolution</li>
                <li>Direct delegation to ResolutionPipeline</li>
                <li>Minimal parameter handling</li>
                <li>Basic error wrapping</li>
                <li>Preserved public API</li>
            </ul>
        </section>

        <section class="integration">
            <h2>Integration</h2>
            <p>The ResolutionEngine integrates seamlessly with the existing container architecture:</p>

            <h3>With Container</h3>
            <pre><code class="language-php">$container = new Container($engine);
$userService = $container->get('UserService');</code></pre>

            <h3>With ResolutionPipeline</h3>
            <pre><code class="language-php">$pipeline = new ResolutionPipeline(/* dependencies */);
$engine = new ResolutionEngine(/* same dependencies */);
// Both use the same underlying resolution logic</code></pre>

            <h3>With Error Handling</h3>
            <pre><code class="language-php">try {
    $instance = $engine->resolve($serviceId);
} catch (ResolutionException $e) {
    // Handle resolution failure
    // Original exception is preserved in $e->getPrevious()
}</code></pre>
        </section>

        <section class="performance">
            <h2>Performance</h2>
            <p>The simplified ResolutionEngine provides excellent performance characteristics:</p>

            <h3>Benefits</h3>
            <ul>
                <li><strong>Reduced Overhead:</strong> Minimal indirection layers</li>
                <li><strong>Direct Delegation:</strong> No complex context management</li>
                <li><strong>Simple Error Handling:</strong> Lightweight exception wrapping</li>
                <li><strong>Memory Efficient:</strong> No unnecessary object creation</li>
            </ul>

            <h3>Trade-offs</h3>
            <ul>
                <li><strong>Less Flexibility:</strong> Simplified parameter handling</li>
                <li><strong>Reduced Features:</strong> No advanced context features</li>
                <li><strong>Basic Validation:</strong> Minimal input validation</li>
            </ul>
        </section>

        <section class="best-practices">
            <h2>Best Practices</h2>
            <ul>
                <li>Use the engine for direct service resolution</li>
                <li>Handle ResolutionException and ServiceNotFoundException appropriately</li>
                <li>Provide meaningful error messages for debugging</li>
                <li>Use parameter overrides for testing and customization</li>
                <li>Monitor resolution performance in production</li>
            </ul>
        </section>
    </main>
</div>
</body>
</html>


