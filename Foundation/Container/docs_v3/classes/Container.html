<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Container - Foundation Container Documentation</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link href="../styles.css" rel="stylesheet">
</head>
<body>
<div class="layout">
                            <aside class="sidebar">
        <div class="brand"><a href="../index.html">Container Docs</a></div>
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search...">
        </div>
        <nav>
            <div class="nav-section">
                <h3 class="nav-title">Container (Root)</h3>
                <ul class="nav-list">
                    <li><a href="Container.html">Container</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Act/Inject</h3>
                <ul class="nav-list">
                    <li><a href="Act/Inject/InjectDependencies.html">InjectDependencies</a></li>
                    <li><a href="Act/Inject/PropertyInjector.html">PropertyInjector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Advanced/Lazy</h3>
                <ul class="nav-list">
                    <li><a href="Actions/Advanced/Lazy/LazyInterface.html">LazyInterface</a></li>
                    <li><a href="Actions/Advanced/Lazy/LazyValue.html">LazyValue</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Inject</h3>
                <ul class="nav-list">
                    <li><a href="Actions/Inject/InjectDependencies.html">InjectDependencies</a></li>
                    <li><a href="Actions/Inject/PropertyInjector.html">PropertyInjector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Inject/Resolvers</h3>
                <ul class="nav-list">
                    <li><a href="Actions/Inject/Resolvers/PropertyResolution.html">PropertyResolution</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Instantiate</h3>
                <ul class="nav-list">
                    <li><a href="Actions/Instantiate/Instantiator.html">Instantiator</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Invoke/Cache</h3>
                <ul class="nav-list">
                    <li><a href="Actions/Invoke/Cache/ReflectionCache.html">ReflectionCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Lazy</h3>
                <ul class="nav-list">
                    <li><a href="Advanced/Lazy/LazyInterface.html">LazyInterface</a></li>
                    <li><a href="Advanced/Lazy/LazyValue.html">LazyValue</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Observe</h3>
                <ul class="nav-list">
                    <li><a href="Advanced/Observe/DiagnosticsFlow.html">DiagnosticsFlow</a></li>
                    <li><a href="Advanced/Observe/Telemetry.html">Telemetry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Policy</h3>
                <ul class="nav-list">
                    <li><a href="Advanced/Policy/PolicyFlow.html">PolicyFlow</a></li>
                    <li><a href="Advanced/Policy/Security.html">Security</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core</h3>
                <ul class="nav-list">
                    <li><a href="Core/Container.html">Container</a></li>
                    <li><a href="Core/ContainerBuilder.html">ContainerBuilder</a></li>
                    <li><a href="Core/ContainerConfig.html">ContainerConfig</a></li>
                    <li><a href="Core/ContainerEngine.html">ContainerEngine</a></li>
                    <li><a href="Core/ContainerKernel.html">ContainerKernel</a></li>
                    <li><a href="Core/ResolutionEngine.html">ResolutionEngine</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Attribute</h3>
                <ul class="nav-list">
                    <li><a href="Core/Attribute/Inject.html">Inject</a></li>
                    <li><a href="Core/Attribute/Singleton.html">Singleton</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/DTO</h3>
                <ul class="nav-list">
                    <li><a href="Core/DTO/ErrorDTO.html">ErrorDTO</a></li>
                    <li><a href="Core/DTO/InjectionReport.html">InjectionReport</a></li>
                    <li><a href="Core/DTO/SuccessDTO.html">SuccessDTO</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Enum</h3>
                <ul class="nav-list">
                    <li><a href="Core/Enum/ServiceLifetime.html">ServiceLifetime</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Exceptions</h3>
                <ul class="nav-list">
                    <li><a href="Core/Exceptions/ContainerExceptions.html">ContainerExceptions</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel</h3>
                <ul class="nav-list">
                    <li><a href="Core/Kernel/KernelCompiler.html">KernelCompiler</a></li>
                    <li><a href="Core/Kernel/KernelConfig.html">KernelConfig</a></li>
                    <li><a href="Core/Kernel/KernelFacade.html">KernelFacade</a></li>
                    <li><a href="Core/Kernel/KernelRuntime.html">KernelRuntime</a></li>
                    <li><a href="Core/Kernel/KernelState.html">KernelState</a></li>
                    <li><a href="Core/Kernel/LifecycleResolver.html">LifecycleResolver</a></li>
                    <li><a href="Core/Kernel/LifecycleStrategyRegistry.html">LifecycleStrategyRegistry</a></li>
                    <li><a href="Core/Kernel/ResolutionPipeline.html">ResolutionPipeline</a></li>
                    <li><a href="Core/Kernel/ResolutionPipelineBuilder.html">ResolutionPipelineBuilder</a></li>
                    <li><a href="Core/Kernel/StepTelemetryCollector.html">StepTelemetryCollector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Contracts</h3>
                <ul class="nav-list">
                    <li><a href="Core/Kernel/Contracts/KernelContext.html">KernelContext</a></li>
                    <li><a href="Core/Kernel/Contracts/KernelStep.html">KernelStep</a></li>
                    <li><a href="Core/Kernel/Contracts/LifecycleStrategy.html">LifecycleStrategy</a></li>
                    <li><a href="Core/Kernel/Contracts/StepTelemetry.html">StepTelemetry</a></li>
                    <li><a href="Core/Kernel/Contracts/TerminalKernelStep.html">TerminalKernelStep</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Events</h3>
                <ul class="nav-list">
                    <li><a href="Core/Kernel/Events/StepFailed.html">StepFailed</a></li>
                    <li><a href="Core/Kernel/Events/StepStarted.html">StepStarted</a></li>
                    <li><a href="Core/Kernel/Events/StepSucceeded.html">StepSucceeded</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Steps</h3>
                <ul class="nav-list">
                    <li><a href="Core/Kernel/Steps/AnalyzePrototypeStep.html">AnalyzePrototypeStep</a></li>
                    <li><a href="Core/Kernel/Steps/ApplyExtendersStep.html">ApplyExtendersStep</a></li>
                    <li><a href="Core/Kernel/Steps/CircularDependencyStep.html">CircularDependencyStep</a></li>
                    <li><a href="Core/Kernel/Steps/CollectDiagnosticsStep.html">CollectDiagnosticsStep</a></li>
                    <li><a href="Core/Kernel/Steps/DepthGuardStep.html">DepthGuardStep</a></li>
                    <li><a href="Core/Kernel/Steps/EnsureDefinitionExistsStep.html">EnsureDefinitionExistsStep</a></li>
                    <li><a href="Core/Kernel/Steps/GuardPolicyStep.html">GuardPolicyStep</a></li>
                    <li><a href="Core/Kernel/Steps/InjectDependenciesStep.html">InjectDependenciesStep</a></li>
                    <li><a href="Core/Kernel/Steps/InvokePostConstructStep.html">InvokePostConstructStep</a></li>
                    <li><a href="Core/Kernel/Steps/ResolveInstanceStep.html">ResolveInstanceStep</a></li>
                    <li><a href="Core/Kernel/Steps/RetrieveFromScopeStep.html">RetrieveFromScopeStep</a></li>
                    <li><a href="Core/Kernel/Steps/StoreLifecycleStep.html">StoreLifecycleStep</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Strategies</h3>
                <ul class="nav-list">
                    <li><a href="Core/Kernel/Strategies/ScopedLifecycleStrategy.html">ScopedLifecycleStrategy</a></li>
                    <li><a href="Core/Kernel/Strategies/SingletonLifecycleStrategy.html">SingletonLifecycleStrategy</a></li>
                    <li><a href="Core/Kernel/Strategies/TransientLifecycleStrategy.html">TransientLifecycleStrategy</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Utils</h3>
                <ul class="nav-list">
                    <li><a href="Core/Utils/ArrayTools.html">ArrayTools</a></li>
                    <li><a href="Core/Utils/StrTools.html">StrTools</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Bind</h3>
                <ul class="nav-list">
                    <li><a href="Define/Bind/BindingBuilder.html">BindingBuilder</a></li>
                    <li><a href="Define/Bind/ContextBuilder.html">ContextBuilder</a></li>
                    <li><a href="Define/Bind/Registrar.html">Registrar</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Store</h3>
                <ul class="nav-list">
                    <li><a href="Define/Store/DefinitionStore.html">DefinitionStore</a></li>
                    <li><a href="Define/Store/ServiceDefinition.html">ServiceDefinition</a></li>
                    <li><a href="Define/Store/ServiceDefinitionEntity.html">ServiceDefinitionEntity</a></li>
                    <li><a href="Define/Store/ServiceDiscovery.html">ServiceDiscovery</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Store/Compiler</h3>
                <ul class="nav-list">
                    <li><a href="Define/Store/Compiler/CompilerPassInterface.html">CompilerPassInterface</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke</h3>
                <ul class="nav-list">
                    <li><a href="Invoke/InvocationExecutor.html">InvocationExecutor</a></li>
                    <li><a href="Invoke/InvokeAction.html">InvokeAction</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke/Cache</h3>
                <ul class="nav-list">
                    <li><a href="Invoke/Cache/ReflectionCache.html">ReflectionCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke/Context</h3>
                <ul class="nav-list">
                    <li><a href="Invoke/Context/InvocationContext.html">InvocationContext</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate</h3>
                <ul class="nav-list">
                    <li><a href="Operate/ScopeManager.html">ScopeManager</a></li>
                    <li><a href="Operate/ScopeRegistry.html">ScopeRegistry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Boot</h3>
                <ul class="nav-list">
                    <li><a href="Operate/Boot/Application.html">Application</a></li>
                    <li><a href="Operate/Boot/ApplicationBuilder.html">ApplicationBuilder</a></li>
                    <li><a href="Operate/Boot/ContainerBootstrapper.html">ContainerBootstrapper</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Config</h3>
                <ul class="nav-list">
                    <li><a href="Operate/Config/BootstrapProfile.html">BootstrapProfile</a></li>
                    <li><a href="Operate/Config/ContainerConfig.html">ContainerConfig</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Scope</h3>
                <ul class="nav-list">
                    <li><a href="Operate/Scope/ScopeManager.html">ScopeManager</a></li>
                    <li><a href="Operate/Scope/ScopeRegistry.html">ScopeRegistry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Shutdown</h3>
                <ul class="nav-list">
                    <li><a href="Operate/Shutdown/TerminateContainer.html">TerminateContainer</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve</h3>
                <ul class="nav-list">
                    <li><a href="Resolve/DependencyResolver.html">DependencyResolver</a></li>
                    <li><a href="Resolve/ResolutionContext.html">ResolutionContext</a></li>
                    <li><a href="Resolve/ResolutionEngine.html">ResolutionEngine</a></li>
                    <li><a href="Resolve/ResolutionPipeline.html">ResolutionPipeline</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve/Pipes</h3>
                <ul class="nav-list">
                    <li><a href="Resolve/Pipes/AutowirePipe.html">AutowirePipe</a></li>
                    <li><a href="Resolve/Pipes/BindingPipe.html">BindingPipe</a></li>
                    <li><a href="Resolve/Pipes/ScopePipe.html">ScopePipe</a></li>
                    <li><a href="Resolve/Pipes/TerminalPipe.html">TerminalPipe</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve/Resolvers</h3>
                <ul class="nav-list">
                    <li><a href="Resolve/Resolvers/DefaultResolver.html">DefaultResolver</a></li>
                    <li><a href="Resolve/Resolvers/ExceptionResolver.html">ExceptionResolver</a></li>
                    <li><a href="Resolve/Resolvers/NullResolver.html">NullResolver</a></li>
                    <li><a href="Resolve/Resolvers/OverrideResolver.html">OverrideResolver</a></li>
                    <li><a href="Resolve/Resolvers/ParameterResolutionChain.html">ParameterResolutionChain</a></li>
                    <li><a href="Resolve/Resolvers/ParameterResolver.html">ParameterResolver</a></li>
                    <li><a href="Resolve/Resolvers/TypeResolver.html">TypeResolver</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Analyze</h3>
                <ul class="nav-list">
                    <li><a href="Think/Analyze/PrototypeAnalyzer.html">PrototypeAnalyzer</a></li>
                    <li><a href="Think/Analyze/ReflectionTypeAnalyzer.html">ReflectionTypeAnalyzer</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Cache</h3>
                <ul class="nav-list">
                    <li><a href="Think/Cache/FilePrototypeCache.html">FilePrototypeCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Model</h3>
                <ul class="nav-list">
                    <li><a href="Think/Model/MethodPrototype.html">MethodPrototype</a></li>
                    <li><a href="Think/Model/ParameterPrototype.html">ParameterPrototype</a></li>
                    <li><a href="Think/Model/PropertyPrototype.html">PropertyPrototype</a></li>
                    <li><a href="Think/Model/ServicePrototype.html">ServicePrototype</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Prototype</h3>
                <ul class="nav-list">
                    <li><a href="Think/Prototype/ServicePrototypeFactory.html">ServicePrototypeFactory</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Prototype/Contracts</h3>
                <ul class="nav-list">
                    <li><a href="Think/Prototype/Contracts/ServicePrototypeFactoryInterface.html">ServicePrototypeFactoryInterface</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Verify</h3>
                <ul class="nav-list">
                    <li><a href="Think/Verify/VerifyPrototype.html">VerifyPrototype</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Guidelines</h3>
                <ul class="nav-list">
                    <li><a href="../master-prompt.html">Master Prompt</a></li>
                </ul>
            </div>
        </nav>
    </aside>
    <main class="content">
        <div class="hero">
            <h1>Container</h1>
            <p>The main facade class that provides your application's primary interface for dependency injection.</p>
            <div class="meta">
                <strong>File Path:</strong> Container.php<br>
                <strong>Folder Context:</strong> Root folder of the Container component<br>
                <strong>Generated:</strong> 2026-01-08
            </div>
        </div>

        <section class="section content-card" id="quick-summary">
            <h2>Quick Summary</h2>
            <p>This class acts as the public API for the entire dependency injection system. It delegates all heavy lifting to the ContainerKernel while providing a clean, simple interface that developers can rely on. Without this facade, developers would need to understand the complex internal machinery of kernels, pipelines, and scopes - this class makes dependency injection accessible and straightforward.</p>
            <p>The Container exists to provide a stable, simple API that applications can depend on. It hides the complexity of resolution engines, pipelines, scopes, and prototypes behind a thin wrapper.</p>
        </section>

        <section class="section content-card" id="terminology">
            <h2>Terminology</h2>
            <dl>
                <dt>Facade Pattern</dt>
                <dd>A design pattern where a simple interface is provided to hide the complexities of a larger system. The Container class is a facade over the ContainerKernel.</dd>
                <dt>Dependency Injection</dt>
                <dd>A technique where objects receive their dependencies from external sources rather than creating them internally.</dd>
                <dt>Service Resolution</dt>
                <dd>The process of converting a service identifier (like a class name) into a fully constructed and configured object instance.</dd>
                <dt>Autowiring</dt>
                <dd>Automatic dependency resolution based on constructor parameter types, without explicit configuration.</dd>
                <dt>Service Lifetime</dt>
                <dd>How long a service instance should live - singleton (application-wide), scoped (per request), or transient (new each time).</dd>
                <dt>Binding</dt>
                <dd>An explicit mapping from an abstract type (interface) to a concrete implementation class.</dd>
                <dt>Scope</dt>
                <dd>A context that defines the lifetime boundaries for service instances.</dd>
                <dt>Kernel</dt>
                <dd>The core engine that handles the actual work of dependency resolution and lifecycle management.</dd>
                <dt>Prototype</dt>
                <dd>A pre-analyzed blueprint of a class's dependencies, cached for performance.</dd>
                <dt>Injection</dt>
                <dd>The act of providing dependencies to an object through its constructor, properties, or methods.</dd>
            </dl>
        </section>

        <section class="section content-card" id="think-of-it">
            <h2>Think of It Like...</h2>
            <p>Imagine you're at a fancy restaurant. You don't go into the kitchen and try to cook your own meal - you tell the waiter what you want, and they coordinate with the kitchen to prepare it perfectly. The Container is like that waiter:</p>
            <ul>
                <li>You tell the waiter (Container) what dish you want ("I need a UserService")</li>
                <li>The waiter relays this to the kitchen (ContainerKernel) without you knowing the details</li>
                <li>The kitchen handles all the complex cooking, ingredient gathering, and plating</li>
                <li>You get a perfectly prepared meal without worrying about the behind-the-scenes work</li>
            </ul>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Restaurant Experience</th>
                            <th>Dependency Injection</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Dining room with simple menu</td>
                            <td>Container API with clean methods</td>
                        </tr>
                        <tr>
                            <td>Waiter taking your order</td>
                            <td>Container.get() method call</td>
                        </tr>
                        <tr>
                            <td>Complex kitchen operations</td>
                            <td>ContainerKernel resolution pipeline</td>
                        </tr>
                        <tr>
                            <td>Chef managing ingredients and timing</td>
                            <td>Scope manager handling lifetimes</td>
                        </tr>
                        <tr>
                            <td>Perfectly plated meal delivered</td>
                            <td>Fully injected service instance returned</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section class="section content-card" id="story-example">
            <h2>Story Example</h2>
            <p>Let's say you're building a user management system. You have a <code>UserController</code> that needs to:</p>
            <ul>
                <li>Validate user input</li>
                <li>Check permissions</li>
                <li>Save to database</li>
                <li>Send notification emails</li>
                <li>Log the action</li>
            </ul>
            <h3>The Problem Without the Container</h3>
            <pre><code class="language-php">class UserController {
    private $validator;
    private $permissions;
    private $database;
    private $email;
    private $logger;
    
    public function __construct() {
        $this->validator = new UserValidator();
        $this->permissions = new PermissionChecker();
        $this->database = new DatabaseConnection('localhost');
        $this->email = new EmailService();
        $this->logger = new FileLogger('/var/log/app.log');
    }
    
    public function createUser($userData) {
        // Every controller has to know how to create its dependencies
        // This makes testing impossible and changes difficult
    }
}</code></pre>
            <h3>The Solution With Container</h3>
            <pre><code class="language-php">// In bootstrap.php
$container = new Container($kernel);

// Register services once
$container->bind(UserRepositoryInterface::class, SqlUserRepository::class);
$container->singleton(ValidatorInterface::class, UserValidator::class);

// In UserController.php
class UserController {
    public function __construct(
        private UserRepositoryInterface $users,
        private ValidatorInterface $validator,
        private PermissionChecker $permissions,
        private EmailService $email,
        private LoggerInterface $logger
    ) {}
    
    public function createUser(array $userData): User {
        // Just use the dependencies - no creation logic here
        $this->validator->validate($userData);
        $this->permissions->check('user.create');
        
        $user = $this->users->create($userData);
        $this->email->sendWelcome($user);
        $this->logger->info("User created: {$user->id}");
        
        return $user;
    }
}

// In your application
$userController = $container->get(UserController::class);
$newUser = $userController->createUser($requestData);</code></pre>
            <p>The Container class makes this possible by providing a simple <code>get()</code> method that hides all the complexity of creating UserController with its five dependencies, each of which might have their own dependencies.</p>
        </section>

        <section class="section content-card" id="for-dummies">
            <h2>For Dummies</h2>
            <p>Think of the Container class as your friendly neighborhood shopkeeper. You walk in and say "I need a bicycle," and they hand you a fully assembled bike with pedals, brakes, and everything working. You don't need to know how bikes are made or where the parts come from - you just get what you asked for.</p>
            <h3>What Problem Does This Class Solve?</h3>
            <p>Without the Container, every class in your application would need to know how to create its own helper objects. This leads to code like:</p>
            <pre><code class="language-php">class ReportGenerator {
    public function __construct() {
        $this->db = new Database('host', 'user', 'pass');
        $this->formatter = new ReportFormatter();
        $this->exporter = new PdfExporter();
    }
}</code></pre>
            <p>Problems with this approach:</p>
            <ul>
                <li><strong>Hard to test:</strong> Can't use fake database for tests</li>
                <li><strong>Hard to change:</strong> Want to use Excel export? Change everywhere</li>
                <li><strong>Tight coupling:</strong> ReportGenerator is stuck with specific classes</li>
                <li><strong>Configuration everywhere:</strong> Database credentials repeated in every class</li>
            </ul>
            <h3>How It Works (Simple Mental Model)</h3>
            <ol>
                <li><strong>Registration:</strong> You tell the Container how to create things (like "PdfExporter should be created with these settings")</li>
                <li><strong>Request:</strong> Your code asks the Container for what it needs ("I need a ReportGenerator")</li>
                <li><strong>Assembly:</strong> Container builds the ReportGenerator and automatically gives it a Database, ReportFormatter, and PdfExporter</li>
                <li><strong>Delivery:</strong> You get a ready-to-use ReportGenerator</li>
            </ol>
            <h3>Common Mistakes & Misconceptions</h3>
            <ul>
                <li><strong>Mistake:</strong> Creating the Container inside your classes</li>
                <li><strong>Why it's wrong:</strong> Makes classes hard to test and creates hidden dependencies</li>
                <li><strong>Fix:</strong> Container should only be used in "composition root" (bootstrap/application startup)</li>
            </ul>
            <ul>
                <li><strong>Mistake:</strong> Using <code>$container->get()</code> deep in business logic</li>
                <li><strong>Why it's wrong:</strong> Business logic shouldn't know about the container</li>
                <li><strong>Fix:</strong> Use constructor injection to get dependencies</li>
            </ul>
            <ul>
                <li><strong>Misconception:</strong> Container is slow</li>
                <li><strong>Reality:</strong> Modern containers are highly optimized with caching</li>
            </ul>
            <h3>FAQ</h3>
            <dl>
                <dt>Should I use the Container in my business logic?</dt>
                <dd>No! The Container should only be used at application startup to wire everything together. Your business classes should get their dependencies through constructors.</dd>
                <dt>What's the difference between get() and make()?</dt>
                <dd><code>get()</code> respects scopes and may return cached instances. <code>make()</code> always creates new instances and bypasses caching.</dd>
                <dt>How do I know what to register?</dt>
                <dd>Register interfaces to concrete classes, and singleton expensive objects. Most concrete classes can be auto-wired without registration.</dd>
                <dt>What if I need different configurations?</dt>
                <dd>Use the scope system - beginScope() creates a context where services can have different lifetimes or configurations.</dd>
            </dl>
        </section>

        <section class="section content-card" id="how-it-works">
            <h2>How It Works (Technical)</h2>
            <p>The Container class is a thin facade that delegates all operations to a ContainerKernel instance. The kernel handles the actual complexity while the Container provides a clean API.</p>
            <h3>Core Architecture</h3>
            <ul>
                <li><strong>Single Responsibility:</strong> Container handles API, Kernel handles implementation</li>
                <li><strong>Delegation Pattern:</strong> Every public method calls a corresponding kernel method</li>
                <li><strong>Immutable Interface:</strong> Once created, the Container's behavior is stable</li>
                <li><strong>PSR-11 Compliance:</strong> Follows standards for container interoperability</li>
            </ul>
            <h3>Resolution Flow</h3>
            <ol>
                <li><strong>Method Call:</strong> Application calls <code>$container->get('UserService')</code></li>
                <li><strong>Delegation:</strong> Container calls <code>$this->kernel->get('UserService')</code></li>
                <li><strong>Kernel Processing:</strong> Kernel runs through resolution pipeline</li>
                <li><strong>Return:</strong> Fully constructed service returned to application</li>
            </ol>
            <h3>Key Methods and Their Purposes</h3>
            <dl>
                <dt>get($id)</dt>
                <dd>Primary resolution method - returns cached or creates new instance</dd>
                <dt>has($id)</dt>
                <dd>Fast existence check without construction</dd>
                <dt>make($abstract, $parameters)</dt>
                <dd>Always creates new instance with optional overrides</dd>
                <dt>call($callable, $parameters)</dt>
                <dd>Executes callable with dependency injection</dd>
                <dt>injectInto($target)</dt>
                <dd>Adds dependencies to existing objects</dd>
            </dl>
            <h3>Performance Characteristics</h3>
            <ul>
                <li><strong>Memory:</strong> Minimal overhead - just holds kernel reference</li>
                <li><strong>Speed:</strong> Method calls are direct delegation with no processing</li>
                <li><strong>Thread Safety:</strong> Depends on kernel implementation</li>
                <li><strong>Caching:</strong> No caching at Container level - delegated to kernel</li>
            </ul>
        </section>

        <section class="section content-card" id="architecture-role">
            <h2>Architecture Role</h2>
            <p>The Container class serves as the main entry point for the entire dependency injection system. It lives at the boundary between application code and the container infrastructure, making DI accessible to developers while keeping the complexity contained.</p>
            <h3>What Depends on This Class</h3>
            <ul>
                <li>Application bootstrap/initialization code</li>
                <li>Framework integration layers</li>
                <li>Test setup and mocking utilities</li>
                <li>CLI commands and console applications</li>
                <li>Any code that needs to resolve services dynamically</li>
            </ul>
            <h3>What This Class Depends On</h3>
            <ul>
                <li><strong>ContainerKernel:</strong> The actual implementation that does the work</li>
                <li><strong>PSR Standards:</strong> PSR-11 Container interface compliance</li>
                <li><strong>PHP Types:</strong> Uses typed parameters and return values</li>
            </ul>
            <h3>How It Fits Into the Larger System</h3>
            <p>The Container acts as the composition root interface - the single, stable API that the entire application uses for dependency resolution. This design provides:</p>
            <ul>
                <li><strong>Stability:</strong> Application code depends on a simple interface that rarely changes</li>
                <li><strong>Testability:</strong> Easy to mock or replace in tests</li>
                <li><strong>Flexibility:</strong> Kernel can be swapped for different implementations</li>
                <li><strong>Separation:</strong> Business logic doesn't know about resolution details</li>
            </ul>
        </section>

        <section class="section content-card" id="risks-trade-offs">
            <h2>Risks, Trade-offs & Recommended Practices</h2>
            <h3>API Stability</h3>
            <p><strong>Risk:</strong> As a public API, changes to Container methods could break applications.</p>
            <p><strong>Why it matters:</strong> The Container is used throughout applications, so breaking changes have wide impact.</p>
            <p><strong>Design stance:</strong> Container maintains strict backward compatibility and follows semantic versioning.</p>
            <p><strong>Recommended practice:</strong> Treat Container methods as stable API, use dependency injection principles, and test against Container interfaces.</p>
            <h3>Performance Overhead</h3>
            <p><strong>Risk:</strong> Every method call involves delegation to the kernel.</p>
            <p><strong>Why it matters:</strong> Hot paths calling Container methods frequently could accumulate overhead.</p>
            <p><strong>Design stance:</strong> Delegation overhead is minimal and acceptable for the benefits gained.</p>
            <p><strong>Recommended practice:</strong> Avoid Container calls in tight loops, use constructor injection for frequently accessed services, and profile performance-critical code.</p>
            <h3>Testing Complexity</h3>
            <p><strong>Risk:</strong> Container usage can make unit tests more complex if not handled properly.</p>
            <p><strong>Why it matters:</strong> Poor testing practices with Container can lead to brittle, slow tests.</p>
            <p><strong>Design stance:</strong> Container is designed to be testable through proper dependency injection.</p>
            <p><strong>Recommended practice:</strong> Don't inject Container into business logic, use constructor injection, mock dependencies in tests, and keep Container usage confined to bootstrap code.</p>
            <h3>Error Handling</h3>
            <p><strong>Risk:</strong> Exceptions from kernel operations bubble up through Container methods.</p>
            <p><strong>Why it matters:</strong> Applications need to handle resolution failures gracefully.</p>
            <p><strong>Design stance:</strong> Container preserves original exceptions with full context.</p>
            <p><strong>Recommended practice:</strong> Handle ResolutionException and ServiceNotFoundException appropriately, provide meaningful error messages, and use has() for defensive programming.</p>
        </section>

        <section class="section content-card" id="related-files-folders">
            <h2>Related Files &amp; Folders</h2>
            <ul>
                <li><strong>Parent folder:</strong> Root Container component</li>
                <li><strong>Sibling files:</strong> Container.txt (notes), docs/index.html (overview)</li>
                <li><strong>Child folders:</strong> None (this is a single file)</li>
                <li><strong>Depends on:</strong> Core/ContainerKernel.php (the actual implementation)</li>
                <li><strong>Related interfaces:</strong> Core/Contracts/ContainerInternalInterface.php</li>
            </ul>
            <p><strong>Reading order:</strong> Start here (Container.php), then ContainerKernel.php to understand the implementation details.</p>
        </section>

        <section class="section content-card" id="methods">
            <h2>Methods</h2>
            <div id="get">
                <h3>get(string $id): mixed</h3>
                <p>Resolve a service by identifier. This is the primary method for retrieving services from the container.</p>
                <p><strong>Purpose:</strong> Get fully constructed service instances with all dependencies resolved.</p>
                <p><strong>When to use:</strong> When you need a service instance in application code.</p>
                <p><strong>Example:</strong> <code>$userService = $container->get(UserService::class);</code></p>
            </div>
            <div id="has">
                <h3>has(string $id): bool</h3>
                <p>Check if a service is registered or can be resolved without constructing it.</p>
                <p><strong>Purpose:</strong> Fast existence checking for conditional service usage.</p>
                <p><strong>When to use:</strong> When you need to check service availability without the cost of resolution.</p>
            </div>
            <div id="make">
                <h3>make(string $abstract, array $parameters = []): object</h3>
                <p>Create a new instance with optional parameters, bypassing scope caches.</p>
                <p><strong>Purpose:</strong> Always get fresh instances, useful for factories or contextual creation.</p>
                <p><strong>When to use:</strong> When you need multiple instances or want to override constructor parameters.</p>
            </div>
            <div id="call">
                <h3>call(callable|string $callable, array $parameters = []): mixed</h3>
                <p>Execute a callable with dependency injection applied to its parameters.</p>
                <p><strong>Purpose:</strong> Apply DI to functions, methods, or closures that weren't designed for constructor injection.</p>
                <p><strong>When to use:</strong> For event handlers, middleware, or legacy code that uses callables.</p>
            </div>
            <div id="injectInto">
                <h3>injectInto(object $target): object</h3>
                <p>Inject dependencies into an existing object instance.</p>
                <p><strong>Purpose:</strong> Add dependencies to objects created outside the container.</p>
                <p><strong>When to use:</strong> For legacy objects, deserialization, or factory-created instances.</p>
            </div>
            <div id="resolve">
                <h3>resolve(ServicePrototype $prototype): mixed</h3>
                <p>Resolve a service from a pre-computed prototype.</p>
                <p><strong>Purpose:</strong> Advanced API for performance optimization when you have prototypes.</p>
                <p><strong>When to use:</strong> In advanced scenarios with pre-analyzed service definitions.</p>
            </div>
            <div id="resolveContext">
                <h3>resolveContext(KernelContext $context): mixed</h3>
                <p>Resolve a service with additional context information.</p>
                <p><strong>Purpose:</strong> Provide contextual information for complex resolution scenarios.</p>
                <p><strong>When to use:</strong> When resolution depends on runtime context beyond just the service ID.</p>
            </div>
            <div id="instance">
                <h3>instance(string $abstract, object $instance): void</h3>
                <p>Register a shared instance for a given abstract.</p>
                <p><strong>Purpose:</strong> Make existing objects available through the container.</p>
                <p><strong>When to use:</strong> For external objects or pre-configured services.</p>
            </div>
            <div id="beginScope">
                <h3>beginScope(): void</h3>
                <p>Start a new resolution scope for scoped services.</p>
                <p><strong>Purpose:</strong> Create a boundary for scoped service lifetimes.</p>
                <p><strong>When to use:</strong> At the beginning of request processing or unit-of-work boundaries.</p>
            </div>
            <div id="endScope">
                <h3>endScope(): void</h3>
                <p>End the current resolution scope and clean up scoped instances.</p>
                <p><strong>Purpose:</strong> Clean up scoped services and prevent memory leaks.</p>
                <p><strong>When to use:</strong> At the end of request processing or unit-of-work boundaries.</p>
            </div>
            <div id="canInject">
                <h3>canInject(object $target): bool</h3>
                <p>Check if an object can receive dependency injection.</p>
                <p><strong>Purpose:</strong> Determine if injection is possible without attempting it.</p>
                <p><strong>When to use:</strong> For validation or conditional injection logic.</p>
            </div>
            <div id="inspectInjection">
                <h3>inspectInjection(object $target): InjectionReport</h3>
                <p>Get detailed information about injection points on an object.</p>
                <p><strong>Purpose:</strong> Analyze what would be injected for debugging or tooling.</p>
                <p><strong>When to use:</strong> In development tools or for injection debugging.</p>
            </div>
            <div id="scopes">
                <h3>scopes(): ScopeManager</h3>
                <p>Get the scope manager for advanced scope control.</p>
                <p><strong>Purpose:</strong> Provide direct access to scope management functionality.</p>
                <p><strong>When to use:</strong> For advanced scope manipulation (rarely needed).</p>
            </div>
            <div id="exportMetrics">
                <h3>exportMetrics(): string</h3>
                <p>Export performance and usage metrics as a string.</p>
                <p><strong>Purpose:</strong> Provide monitoring and performance analysis data.</p>
                <p><strong>When to use:</strong> For logging, monitoring dashboards, or performance analysis.</p>
            </div>
            <div id="getDefinitions">
                <h3>getDefinitions(): DefinitionStore</h3>
                <p>Get access to the internal service definition storage.</p>
                <p><strong>Purpose:</strong> Allow inspection and manipulation of service definitions.</p>
                <p><strong>When to use:</strong> In advanced tooling or container extensions.</p>
            </div>
        </section>
    </main>
</div>
</body>
</html>
