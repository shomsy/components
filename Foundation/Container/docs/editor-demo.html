<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>CKEditor Demo - Foundation Container Documentation</title>
    <link href="styles.css" rel="stylesheet">
    <script src="https://cdn.ckeditor.com/ckeditor5/40.2.0/classic/ckeditor.js"></script>
    <style>
        .edit-mode { border: 2px dashed #007bff; padding: 10px; background: #f8f9ff; }
        .edit-controls { margin: 10px 0; padding: 10px; background: #e9ecef; border-radius: 4px; }
        .edit-controls button { margin-right: 10px; padding: 5px 15px; }
        .ck-editor__editable { min-height: 200px; }
    </style>
</head>
<body>
<div class="layout">
                    <aside class="sidebar">
        <div class="brand"><a href="index.html">Container Docs</a></div>
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search...">
        </div>
        <nav>
            <div class="nav-section">
                <h3 class="nav-title">Container (Root)</h3>
                <ul class="nav-list">
                    <li><a href="classes/Container.html">Container</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Act/Inject</h3>
                <ul class="nav-list">
                    <li><a href="classes/Act/Inject/InjectDependencies.html">InjectDependencies</a></li>
                    <li><a href="classes/Act/Inject/PropertyInjector.html">PropertyInjector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Advanced/Lazy</h3>
                <ul class="nav-list">
                    <li><a href="classes/Actions/Advanced/Lazy/LazyInterface.html">LazyInterface</a></li>
                    <li><a href="classes/Actions/Advanced/Lazy/LazyValue.html">LazyValue</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Inject</h3>
                <ul class="nav-list">
                    <li><a href="classes/Actions/Inject/InjectDependencies.html">InjectDependencies</a></li>
                    <li><a href="classes/Actions/Inject/PropertyInjector.html">PropertyInjector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Inject/Resolvers</h3>
                <ul class="nav-list">
                    <li><a href="classes/Actions/Inject/Resolvers/PropertyResolution.html">PropertyResolution</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Instantiate</h3>
                <ul class="nav-list">
                    <li><a href="classes/Actions/Instantiate/Instantiator.html">Instantiator</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Invoke/Cache</h3>
                <ul class="nav-list">
                    <li><a href="classes/Actions/Invoke/Cache/ReflectionCache.html">ReflectionCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Lazy</h3>
                <ul class="nav-list">
                    <li><a href="classes/Advanced/Lazy/LazyInterface.html">LazyInterface</a></li>
                    <li><a href="classes/Advanced/Lazy/LazyValue.html">LazyValue</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Observe</h3>
                <ul class="nav-list">
                    <li><a href="classes/Advanced/Observe/DiagnosticsFlow.html">DiagnosticsFlow</a></li>
                    <li><a href="classes/Advanced/Observe/Telemetry.html">Telemetry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Policy</h3>
                <ul class="nav-list">
                    <li><a href="classes/Advanced/Policy/PolicyFlow.html">PolicyFlow</a></li>
                    <li><a href="classes/Advanced/Policy/Security.html">Security</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Container.html">Container</a></li>
                    <li><a href="classes/Core/ContainerBuilder.html">ContainerBuilder</a></li>
                    <li><a href="classes/Core/ContainerConfig.html">ContainerConfig</a></li>
                    <li><a href="classes/Core/ContainerEngine.html">ContainerEngine</a></li>
                    <li><a href="classes/Core/ContainerKernel.html">ContainerKernel</a></li>
                    <li><a href="classes/Core/ResolutionEngine.html">ResolutionEngine</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Attribute</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Attribute/Inject.html">Inject</a></li>
                    <li><a href="classes/Core/Attribute/Singleton.html">Singleton</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/DTO</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/DTO/ErrorDTO.html">ErrorDTO</a></li>
                    <li><a href="classes/Core/DTO/InjectionReport.html">InjectionReport</a></li>
                    <li><a href="classes/Core/DTO/SuccessDTO.html">SuccessDTO</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Enum</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Enum/ServiceLifetime.html">ServiceLifetime</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Exceptions</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Exceptions/ContainerExceptions.html">ContainerExceptions</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Kernel/KernelCompiler.html">KernelCompiler</a></li>
                    <li><a href="classes/Core/Kernel/KernelConfig.html">KernelConfig</a></li>
                    <li><a href="classes/Core/Kernel/KernelFacade.html">KernelFacade</a></li>
                    <li><a href="classes/Core/Kernel/KernelRuntime.html">KernelRuntime</a></li>
                    <li><a href="classes/Core/Kernel/KernelState.html">KernelState</a></li>
                    <li><a href="classes/Core/Kernel/LifecycleResolver.html">LifecycleResolver</a></li>
                    <li><a href="classes/Core/Kernel/LifecycleStrategyRegistry.html">LifecycleStrategyRegistry</a></li>
                    <li><a href="classes/Core/Kernel/ResolutionPipeline.html">ResolutionPipeline</a></li>
                    <li><a href="classes/Core/Kernel/ResolutionPipelineBuilder.html">ResolutionPipelineBuilder</a></li>
                    <li><a href="classes/Core/Kernel/StepTelemetryCollector.html">StepTelemetryCollector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Contracts</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Kernel/Contracts/KernelContext.html">KernelContext</a></li>
                    <li><a href="classes/Core/Kernel/Contracts/KernelStep.html">KernelStep</a></li>
                    <li><a href="classes/Core/Kernel/Contracts/LifecycleStrategy.html">LifecycleStrategy</a></li>
                    <li><a href="classes/Core/Kernel/Contracts/StepTelemetry.html">StepTelemetry</a></li>
                    <li><a href="classes/Core/Kernel/Contracts/TerminalKernelStep.html">TerminalKernelStep</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Events</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Kernel/Events/StepFailed.html">StepFailed</a></li>
                    <li><a href="classes/Core/Kernel/Events/StepStarted.html">StepStarted</a></li>
                    <li><a href="classes/Core/Kernel/Events/StepSucceeded.html">StepSucceeded</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Steps</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Kernel/Steps/AnalyzePrototypeStep.html">AnalyzePrototypeStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/ApplyExtendersStep.html">ApplyExtendersStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/CircularDependencyStep.html">CircularDependencyStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/CollectDiagnosticsStep.html">CollectDiagnosticsStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/DepthGuardStep.html">DepthGuardStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/EnsureDefinitionExistsStep.html">EnsureDefinitionExistsStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/GuardPolicyStep.html">GuardPolicyStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/InjectDependenciesStep.html">InjectDependenciesStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/InvokePostConstructStep.html">InvokePostConstructStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/ResolveInstanceStep.html">ResolveInstanceStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/RetrieveFromScopeStep.html">RetrieveFromScopeStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/StoreLifecycleStep.html">StoreLifecycleStep</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Strategies</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Kernel/Strategies/ScopedLifecycleStrategy.html">ScopedLifecycleStrategy</a></li>
                    <li><a href="classes/Core/Kernel/Strategies/SingletonLifecycleStrategy.html">SingletonLifecycleStrategy</a></li>
                    <li><a href="classes/Core/Kernel/Strategies/TransientLifecycleStrategy.html">TransientLifecycleStrategy</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Utils</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Utils/ArrayTools.html">ArrayTools</a></li>
                    <li><a href="classes/Core/Utils/StrTools.html">StrTools</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Bind</h3>
                <ul class="nav-list">
                    <li><a href="classes/Define/Bind/BindingBuilder.html">BindingBuilder</a></li>
                    <li><a href="classes/Define/Bind/ContextBuilder.html">ContextBuilder</a></li>
                    <li><a href="classes/Define/Bind/Registrar.html">Registrar</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Store</h3>
                <ul class="nav-list">
                    <li><a href="classes/Define/Store/DefinitionStore.html">DefinitionStore</a></li>
                    <li><a href="classes/Define/Store/ServiceDefinition.html">ServiceDefinition</a></li>
                    <li><a href="classes/Define/Store/ServiceDefinitionEntity.html">ServiceDefinitionEntity</a></li>
                    <li><a href="classes/Define/Store/ServiceDiscovery.html">ServiceDiscovery</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Store/Compiler</h3>
                <ul class="nav-list">
                    <li><a href="classes/Define/Store/Compiler/CompilerPassInterface.html">CompilerPassInterface</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke</h3>
                <ul class="nav-list">
                    <li><a href="classes/Invoke/InvocationExecutor.html">InvocationExecutor</a></li>
                    <li><a href="classes/Invoke/InvokeAction.html">InvokeAction</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke/Cache</h3>
                <ul class="nav-list">
                    <li><a href="classes/Invoke/Cache/ReflectionCache.html">ReflectionCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke/Context</h3>
                <ul class="nav-list">
                    <li><a href="classes/Invoke/Context/InvocationContext.html">InvocationContext</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate</h3>
                <ul class="nav-list">
                    <li><a href="classes/Operate/ScopeManager.html">ScopeManager</a></li>
                    <li><a href="classes/Operate/ScopeRegistry.html">ScopeRegistry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Boot</h3>
                <ul class="nav-list">
                    <li><a href="classes/Operate/Boot/Application.html">Application</a></li>
                    <li><a href="classes/Operate/Boot/ApplicationBuilder.html">ApplicationBuilder</a></li>
                    <li><a href="classes/Operate/Boot/ContainerBootstrapper.html">ContainerBootstrapper</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Config</h3>
                <ul class="nav-list">
                    <li><a href="classes/Operate/Config/BootstrapProfile.html">BootstrapProfile</a></li>
                    <li><a href="classes/Operate/Config/ContainerConfig.html">ContainerConfig</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Scope</h3>
                <ul class="nav-list">
                    <li><a href="classes/Operate/Scope/ScopeManager.html">ScopeManager</a></li>
                    <li><a href="classes/Operate/Scope/ScopeRegistry.html">ScopeRegistry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Shutdown</h3>
                <ul class="nav-list">
                    <li><a href="classes/Operate/Shutdown/TerminateContainer.html">TerminateContainer</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve</h3>
                <ul class="nav-list">
                    <li><a href="classes/Resolve/DependencyResolver.html">DependencyResolver</a></li>
                    <li><a href="classes/Resolve/ResolutionContext.html">ResolutionContext</a></li>
                    <li><a href="classes/Resolve/ResolutionEngine.html">ResolutionEngine</a></li>
                    <li><a href="classes/Resolve/ResolutionPipeline.html">ResolutionPipeline</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve/Pipes</h3>
                <ul class="nav-list">
                    <li><a href="classes/Resolve/Pipes/AutowirePipe.html">AutowirePipe</a></li>
                    <li><a href="classes/Resolve/Pipes/BindingPipe.html">BindingPipe</a></li>
                    <li><a href="classes/Resolve/Pipes/ScopePipe.html">ScopePipe</a></li>
                    <li><a href="classes/Resolve/Pipes/TerminalPipe.html">TerminalPipe</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve/Resolvers</h3>
                <ul class="nav-list">
                    <li><a href="classes/Resolve/Resolvers/DefaultResolver.html">DefaultResolver</a></li>
                    <li><a href="classes/Resolve/Resolvers/ExceptionResolver.html">ExceptionResolver</a></li>
                    <li><a href="classes/Resolve/Resolvers/NullResolver.html">NullResolver</a></li>
                    <li><a href="classes/Resolve/Resolvers/OverrideResolver.html">OverrideResolver</a></li>
                    <li><a href="classes/Resolve/Resolvers/ParameterResolutionChain.html">ParameterResolutionChain</a></li>
                    <li><a href="classes/Resolve/Resolvers/ParameterResolver.html">ParameterResolver</a></li>
                    <li><a href="classes/Resolve/Resolvers/TypeResolver.html">TypeResolver</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Analyze</h3>
                <ul class="nav-list">
                    <li><a href="classes/Think/Analyze/PrototypeAnalyzer.html">PrototypeAnalyzer</a></li>
                    <li><a href="classes/Think/Analyze/ReflectionTypeAnalyzer.html">ReflectionTypeAnalyzer</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Cache</h3>
                <ul class="nav-list">
                    <li><a href="classes/Think/Cache/FilePrototypeCache.html">FilePrototypeCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Model</h3>
                <ul class="nav-list">
                    <li><a href="classes/Think/Model/MethodPrototype.html">MethodPrototype</a></li>
                    <li><a href="classes/Think/Model/ParameterPrototype.html">ParameterPrototype</a></li>
                    <li><a href="classes/Think/Model/PropertyPrototype.html">PropertyPrototype</a></li>
                    <li><a href="classes/Think/Model/ServicePrototype.html">ServicePrototype</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Prototype</h3>
                <ul class="nav-list">
                    <li><a href="classes/Think/Prototype/ServicePrototypeFactory.html">ServicePrototypeFactory</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Prototype/Contracts</h3>
                <ul class="nav-list">
                    <li><a href="classes/Think/Prototype/Contracts/ServicePrototypeFactoryInterface.html">ServicePrototypeFactoryInterface</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Verify</h3>
                <ul class="nav-list">
                    <li><a href="classes/Think/Verify/VerifyPrototype.html">VerifyPrototype</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Guidelines</h3>
                <ul class="nav-list">
                    <li><a href="master-prompt.html">Master Prompt</a></li>
                </ul>
            </div>
        </nav>
    </aside>

    <main class="content">
        <div class="hero">
            <h1>CKEditor Integration Demo</h1>
            <p>Demonstration of inline documentation editing with CKEditor</p>
            <div class="meta">
                <strong>Demo Page</strong><br>
                <strong>Generated:</strong> 2026-01-09
            </div>
        </div>

        <div class="edit-controls">
            <strong>Demo Controls:</strong>
            <button onclick="enableAllEditors()">Enable All Editors</button>
            <button onclick="showInstructions()">Show Instructions</button>
            <span style="margin-left: 20px; color: #666;">
                Click "Edit" on any section below to start editing with CKEditor
            </span>
        </div>

        <section class="section content-card">
            <h2>Getting Started</h2>
            <div class="card">
                <p>This demo shows how CKEditor can be integrated into your documentation for manual content editing.</p>
                <p>The editor provides rich text editing capabilities including:</p>
                <ul>
                    <li>Bold and italic text formatting</li>
                    <li>Headings and lists</li>
                    <li>Code blocks with syntax highlighting</li>
                    <li>Links and tables</li>
                    <li>Undo/redo functionality</li>
                </ul>
            </div>
        </section>

        <section class="section content-card">
            <h2>Technical Implementation</h2>
            <div class="card">
                <p>The integration works by:</p>
                <ol>
                    <li>Loading CKEditor from CDN</li>
                    <li>Adding edit buttons to content sections</li>
                    <li>Initializing editors on demand</li>
                    <li>Providing save functionality (demo only)</li>
                </ol>
                <p><strong>Key Features:</strong></p>
                <ul>
                    <li>Inline editing without page reload</li>
                    <li>Multiple editors per page</li>
                    <li>Code syntax highlighting support</li>
                    <li>Responsive design compatibility</li>
                </ul>
            </div>
        </section>

        <section class="section content-card">
            <h2>Code Example</h2>
            <div class="card">
                <p>Here's how you would integrate CKEditor into your documentation:</p>
                <pre><code class="language-javascript">// Initialize CKEditor on a content area
const editor = await ClassicEditor.create(element, {
    toolbar: ['heading', 'bold', 'italic', 'link', 'codeBlock'],
    codeBlock: {
        languages: [
            { language: 'php', label: 'PHP' },
            { language: 'javascript', label: 'JavaScript' }
        ]
    }
});

// Get edited content
const content = editor.getData();</code></pre>
            </div>
        </section>

        <section class="section content-card">
            <h2>Next Steps</h2>
            <div class="card">
                <p>To fully implement this for your documentation:</p>
                <ol>
                    <li><strong>Add Backend Saving:</strong> Create PHP endpoints to save content</li>
                    <li><strong>Authentication:</strong> Add user authentication and permissions</li>
                    <li><strong>Version Control:</strong> Track changes and provide rollback</li>
                    <li><strong>Preview System:</strong> Allow preview before publishing</li>
                    <li><strong>Regeneration:</strong> Update docs.txt and regenerate HTML</li>
                </ol>
            </div>
        </section>
    </main>
</div>

<script>
// Demo-specific functionality
let demoEditors = new Map();

function enableAllEditors() {
    const sections = document.querySelectorAll('.section');
    sections.forEach((section, index) => {
        const editBtn = section.querySelector('button');
        if (editBtn && editBtn.textContent === 'Edit') {
            editBtn.click();
        }
    });
}

function showInstructions() {
    alert(`CKEditor Demo Instructions:

1. Click "Edit" on any section to enable CKEditor
2. Use the toolbar to format text, add lists, code blocks, etc.
3. Click "Save" to see the save dialog (demo only)
4. Changes are shown in the browser console

This demonstrates how your documentation can be edited inline with a rich text editor.`);
}

// CKEditor integration (simplified for demo)
class DemoEditor {
    constructor() {
        this.editors = new Map();
        this.init();
    }

    init() {
        this.makeContentEditable();
    }

    makeContentEditable() {
        const sections = document.querySelectorAll('.section');
        sections.forEach((section, index) => {
            section.style.position = 'relative';

            if (!section.querySelector('button')) {
                const editBtn = document.createElement('button');
                editBtn.textContent = 'Edit';
                editBtn.style.position = 'absolute';
                editBtn.style.top = '10px';
                editBtn.style.right = '10px';
                editBtn.style.zIndex = '1000';
                editBtn.onclick = () => this.enableCKEditor(section, index);
                section.appendChild(editBtn);
            }

            section.classList.add('edit-mode');
        });
    }

    async enableCKEditor(section, index) {
        if (this.editors.has(index)) {
            return;
        }

        // Find the editable content area
        let content = section.querySelector('.card');
        if (!content) {
            content = section;
        }

        // Create a temporary editable div if needed
        if (!content.id) {
            content.id = `editor-${index}`;
        }

        try {
            console.log('Initializing CKEditor on:', content);

            const editor = await ClassicEditor.create(content, {
                toolbar: [
                    'heading', '|',
                    'bold', 'italic', 'link', '|',
                    'bulletedList', 'numberedList', 'blockQuote', '|',
                    'codeBlock', 'insertTable', '|',
                    'undo', 'redo'
                ],
                codeBlock: {
                    languages: [
                        { language: 'php', label: 'PHP' },
                        { language: 'javascript', label: 'JavaScript' },
                        { language: 'html', label: 'HTML' },
                        { language: 'css', label: 'CSS' }
                    ]
                },
                // Add some basic configuration
                placeholder: 'Start editing...',
                language: 'en'
            });

            this.editors.set(index, { editor, section, originalContent: content.innerHTML });

            const editBtn = section.querySelector('button');
            if (editBtn) {
                editBtn.textContent = 'Save';
                editBtn.onclick = () => this.saveSection(index);
            }

            console.log('CKEditor initialized successfully');

        } catch (error) {
            console.error('Failed to initialize CKEditor:', error);

            // Try fallback initialization
            try {
                console.log('Trying fallback initialization...');
                const editor = await ClassicEditor.create(`#${content.id}`, {
                    toolbar: ['bold', 'italic', 'link', 'bulletedList', 'numberedList']
                });
                this.editors.set(index, { editor, section, originalContent: content.innerHTML });
                console.log('Fallback CKEditor initialized successfully');
            } catch (fallbackError) {
                console.error('Fallback also failed:', fallbackError);
                alert('Failed to initialize editor. Please check console for details.');
            }
        }
    }

    saveSection(index) {
        const editorData = this.editors.get(index);
        if (editorData) {
            const content = editorData.editor.getData();
            console.log('Demo: Section content to save:', content);

            // Show demo save dialog
            this.showDemoSaveDialog(content, index);
        }
    }

    showDemoSaveDialog(content, identifier) {
        const overlay = document.createElement('div');
        overlay.style.cssText = `
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.5); z-index: 10000;
            display: flex; align-items: center; justify-content: center;
        `;

        overlay.innerHTML = `
            <div style="background: white; padding: 20px; border-radius: 8px; max-width: 700px; width: 90%;">
                <h3>Demo Save Dialog</h3>
                <p><strong>This is a demonstration.</strong> In a real implementation, this content would be saved to your documentation source.</p>
                <div style="margin: 20px 0;">
                    <strong>Edited Content (first 500 characters):</strong><br>
                    <textarea style="width: 100%; height: 200px; margin-top: 10px; font-family: monospace;" readonly>${content.replace(/<[^>]*>/g, '').substring(0, 500)}${content.length > 500 ? '...' : ''}</textarea>
                </div>
                <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #dee2e6;">
                    <p><strong>To implement real saving:</strong></p>
                    <ul>
                        <li>Create a PHP API endpoint (POST /api/docs/save)</li>
                        <li>Send content as JSON to the server</li>
                        <li>Update docs.txt or source files</li>
                        <li>Regenerate documentation HTML</li>
                        <li>Add authentication and validation</li>
                    </ul>
                </div>
                <div style="text-align: right; margin-top: 20px;">
                    <button onclick="this.closest('div').parentElement.remove()">Close Demo</button>
                </div>
            </div>
        `;

        document.body.appendChild(overlay);
    }
}

// Initialize demo
document.addEventListener('DOMContentLoaded', () => {
    new DemoEditor();
});
</script>

</body>
</html>