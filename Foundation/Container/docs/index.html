<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Foundation Container Documentation</title>
    <link href="styles.css" rel="stylesheet">
</head>
<body>
<div class="layout">
                        <aside class="sidebar">
        <div class="brand"><a href="index.html">Container Docs</a></div>
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search...">
        </div>
        <nav>
            <div class="nav-section">
                <h3 class="nav-title">Container (Root)</h3>
                <ul class="nav-list">
                    <li><a href="classes/Container.html">Container</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Act/Inject</h3>
                <ul class="nav-list">
                    <li><a href="classes/Act/Inject/InjectDependencies.html">InjectDependencies</a></li>
                    <li><a href="classes/Act/Inject/PropertyInjector.html">PropertyInjector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Advanced/Lazy</h3>
                <ul class="nav-list">
                    <li><a href="classes/Actions/Advanced/Lazy/LazyInterface.html">LazyInterface</a></li>
                    <li><a href="classes/Actions/Advanced/Lazy/LazyValue.html">LazyValue</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Inject</h3>
                <ul class="nav-list">
                    <li><a href="classes/Actions/Inject/InjectDependencies.html">InjectDependencies</a></li>
                    <li><a href="classes/Actions/Inject/PropertyInjector.html">PropertyInjector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Inject/Resolvers</h3>
                <ul class="nav-list">
                    <li><a href="classes/Actions/Inject/Resolvers/PropertyResolution.html">PropertyResolution</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Instantiate</h3>
                <ul class="nav-list">
                    <li><a href="classes/Actions/Instantiate/Instantiator.html">Instantiator</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Invoke/Cache</h3>
                <ul class="nav-list">
                    <li><a href="classes/Actions/Invoke/Cache/ReflectionCache.html">ReflectionCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Lazy</h3>
                <ul class="nav-list">
                    <li><a href="classes/Advanced/Lazy/LazyInterface.html">LazyInterface</a></li>
                    <li><a href="classes/Advanced/Lazy/LazyValue.html">LazyValue</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Observe</h3>
                <ul class="nav-list">
                    <li><a href="classes/Advanced/Observe/DiagnosticsFlow.html">DiagnosticsFlow</a></li>
                    <li><a href="classes/Advanced/Observe/Telemetry.html">Telemetry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Policy</h3>
                <ul class="nav-list">
                    <li><a href="classes/Advanced/Policy/PolicyFlow.html">PolicyFlow</a></li>
                    <li><a href="classes/Advanced/Policy/Security.html">Security</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Container.html">Container</a></li>
                    <li><a href="classes/Core/ContainerBuilder.html">ContainerBuilder</a></li>
                    <li><a href="classes/Core/ContainerConfig.html">ContainerConfig</a></li>
                    <li><a href="classes/Core/ContainerEngine.html">ContainerEngine</a></li>
                    <li><a href="classes/Core/ContainerKernel.html">ContainerKernel</a></li>
                    <li><a href="classes/Core/ResolutionEngine.html">ResolutionEngine</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Attribute</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Attribute/Inject.html">Inject</a></li>
                    <li><a href="classes/Core/Attribute/Singleton.html">Singleton</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/DTO</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/DTO/ErrorDTO.html">ErrorDTO</a></li>
                    <li><a href="classes/Core/DTO/InjectionReport.html">InjectionReport</a></li>
                    <li><a href="classes/Core/DTO/SuccessDTO.html">SuccessDTO</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Enum</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Enum/ServiceLifetime.html">ServiceLifetime</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Exceptions</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Exceptions/ContainerExceptions.html">ContainerExceptions</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Kernel/KernelCompiler.html">KernelCompiler</a></li>
                    <li><a href="classes/Core/Kernel/KernelConfig.html">KernelConfig</a></li>
                    <li><a href="classes/Core/Kernel/KernelFacade.html">KernelFacade</a></li>
                    <li><a href="classes/Core/Kernel/KernelRuntime.html">KernelRuntime</a></li>
                    <li><a href="classes/Core/Kernel/KernelState.html">KernelState</a></li>
                    <li><a href="classes/Core/Kernel/LifecycleResolver.html">LifecycleResolver</a></li>
                    <li><a href="classes/Core/Kernel/LifecycleStrategyRegistry.html">LifecycleStrategyRegistry</a></li>
                    <li><a href="classes/Core/Kernel/ResolutionPipeline.html">ResolutionPipeline</a></li>
                    <li><a href="classes/Core/Kernel/ResolutionPipelineBuilder.html">ResolutionPipelineBuilder</a></li>
                    <li><a href="classes/Core/Kernel/StepTelemetryCollector.html">StepTelemetryCollector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Contracts</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Kernel/Contracts/KernelContext.html">KernelContext</a></li>
                    <li><a href="classes/Core/Kernel/Contracts/KernelStep.html">KernelStep</a></li>
                    <li><a href="classes/Core/Kernel/Contracts/LifecycleStrategy.html">LifecycleStrategy</a></li>
                    <li><a href="classes/Core/Kernel/Contracts/StepTelemetry.html">StepTelemetry</a></li>
                    <li><a href="classes/Core/Kernel/Contracts/TerminalKernelStep.html">TerminalKernelStep</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Events</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Kernel/Events/StepFailed.html">StepFailed</a></li>
                    <li><a href="classes/Core/Kernel/Events/StepStarted.html">StepStarted</a></li>
                    <li><a href="classes/Core/Kernel/Events/StepSucceeded.html">StepSucceeded</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Steps</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Kernel/Steps/AnalyzePrototypeStep.html">AnalyzePrototypeStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/ApplyExtendersStep.html">ApplyExtendersStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/CircularDependencyStep.html">CircularDependencyStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/CollectDiagnosticsStep.html">CollectDiagnosticsStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/DepthGuardStep.html">DepthGuardStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/EnsureDefinitionExistsStep.html">EnsureDefinitionExistsStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/GuardPolicyStep.html">GuardPolicyStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/InjectDependenciesStep.html">InjectDependenciesStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/InvokePostConstructStep.html">InvokePostConstructStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/ResolveInstanceStep.html">ResolveInstanceStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/RetrieveFromScopeStep.html">RetrieveFromScopeStep</a></li>
                    <li><a href="classes/Core/Kernel/Steps/StoreLifecycleStep.html">StoreLifecycleStep</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Strategies</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Kernel/Strategies/ScopedLifecycleStrategy.html">ScopedLifecycleStrategy</a></li>
                    <li><a href="classes/Core/Kernel/Strategies/SingletonLifecycleStrategy.html">SingletonLifecycleStrategy</a></li>
                    <li><a href="classes/Core/Kernel/Strategies/TransientLifecycleStrategy.html">TransientLifecycleStrategy</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Utils</h3>
                <ul class="nav-list">
                    <li><a href="classes/Core/Utils/ArrayTools.html">ArrayTools</a></li>
                    <li><a href="classes/Core/Utils/StrTools.html">StrTools</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Bind</h3>
                <ul class="nav-list">
                    <li><a href="classes/Define/Bind/BindingBuilder.html">BindingBuilder</a></li>
                    <li><a href="classes/Define/Bind/ContextBuilder.html">ContextBuilder</a></li>
                    <li><a href="classes/Define/Bind/Registrar.html">Registrar</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Store</h3>
                <ul class="nav-list">
                    <li><a href="classes/Define/Store/DefinitionStore.html">DefinitionStore</a></li>
                    <li><a href="classes/Define/Store/ServiceDefinition.html">ServiceDefinition</a></li>
                    <li><a href="classes/Define/Store/ServiceDefinitionEntity.html">ServiceDefinitionEntity</a></li>
                    <li><a href="classes/Define/Store/ServiceDiscovery.html">ServiceDiscovery</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Store/Compiler</h3>
                <ul class="nav-list">
                    <li><a href="classes/Define/Store/Compiler/CompilerPassInterface.html">CompilerPassInterface</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke</h3>
                <ul class="nav-list">
                    <li><a href="classes/Invoke/InvocationExecutor.html">InvocationExecutor</a></li>
                    <li><a href="classes/Invoke/InvokeAction.html">InvokeAction</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke/Cache</h3>
                <ul class="nav-list">
                    <li><a href="classes/Invoke/Cache/ReflectionCache.html">ReflectionCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke/Context</h3>
                <ul class="nav-list">
                    <li><a href="classes/Invoke/Context/InvocationContext.html">InvocationContext</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate</h3>
                <ul class="nav-list">
                    <li><a href="classes/Operate/ScopeManager.html">ScopeManager</a></li>
                    <li><a href="classes/Operate/ScopeRegistry.html">ScopeRegistry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Boot</h3>
                <ul class="nav-list">
                    <li><a href="classes/Operate/Boot/Application.html">Application</a></li>
                    <li><a href="classes/Operate/Boot/ApplicationBuilder.html">ApplicationBuilder</a></li>
                    <li><a href="classes/Operate/Boot/ContainerBootstrapper.html">ContainerBootstrapper</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Config</h3>
                <ul class="nav-list">
                    <li><a href="classes/Operate/Config/BootstrapProfile.html">BootstrapProfile</a></li>
                    <li><a href="classes/Operate/Config/ContainerConfig.html">ContainerConfig</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Scope</h3>
                <ul class="nav-list">
                    <li><a href="classes/Operate/Scope/ScopeManager.html">ScopeManager</a></li>
                    <li><a href="classes/Operate/Scope/ScopeRegistry.html">ScopeRegistry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Shutdown</h3>
                <ul class="nav-list">
                    <li><a href="classes/Operate/Shutdown/TerminateContainer.html">TerminateContainer</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve</h3>
                <ul class="nav-list">
                    <li><a href="classes/Resolve/DependencyResolver.html">DependencyResolver</a></li>
                    <li><a href="classes/Resolve/ResolutionContext.html">ResolutionContext</a></li>
                    <li><a href="classes/Resolve/ResolutionEngine.html">ResolutionEngine</a></li>
                    <li><a href="classes/Resolve/ResolutionPipeline.html">ResolutionPipeline</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve/Pipes</h3>
                <ul class="nav-list">
                    <li><a href="classes/Resolve/Pipes/AutowirePipe.html">AutowirePipe</a></li>
                    <li><a href="classes/Resolve/Pipes/BindingPipe.html">BindingPipe</a></li>
                    <li><a href="classes/Resolve/Pipes/ScopePipe.html">ScopePipe</a></li>
                    <li><a href="classes/Resolve/Pipes/TerminalPipe.html">TerminalPipe</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve/Resolvers</h3>
                <ul class="nav-list">
                    <li><a href="classes/Resolve/Resolvers/DefaultResolver.html">DefaultResolver</a></li>
                    <li><a href="classes/Resolve/Resolvers/ExceptionResolver.html">ExceptionResolver</a></li>
                    <li><a href="classes/Resolve/Resolvers/NullResolver.html">NullResolver</a></li>
                    <li><a href="classes/Resolve/Resolvers/OverrideResolver.html">OverrideResolver</a></li>
                    <li><a href="classes/Resolve/Resolvers/ParameterResolutionChain.html">ParameterResolutionChain</a></li>
                    <li><a href="classes/Resolve/Resolvers/ParameterResolver.html">ParameterResolver</a></li>
                    <li><a href="classes/Resolve/Resolvers/TypeResolver.html">TypeResolver</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Analyze</h3>
                <ul class="nav-list">
                    <li><a href="classes/Think/Analyze/PrototypeAnalyzer.html">PrototypeAnalyzer</a></li>
                    <li><a href="classes/Think/Analyze/ReflectionTypeAnalyzer.html">ReflectionTypeAnalyzer</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Cache</h3>
                <ul class="nav-list">
                    <li><a href="classes/Think/Cache/FilePrototypeCache.html">FilePrototypeCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Model</h3>
                <ul class="nav-list">
                    <li><a href="classes/Think/Model/MethodPrototype.html">MethodPrototype</a></li>
                    <li><a href="classes/Think/Model/ParameterPrototype.html">ParameterPrototype</a></li>
                    <li><a href="classes/Think/Model/PropertyPrototype.html">PropertyPrototype</a></li>
                    <li><a href="classes/Think/Model/ServicePrototype.html">ServicePrototype</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Prototype</h3>
                <ul class="nav-list">
                    <li><a href="classes/Think/Prototype/ServicePrototypeFactory.html">ServicePrototypeFactory</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Prototype/Contracts</h3>
                <ul class="nav-list">
                    <li><a href="classes/Think/Prototype/Contracts/ServicePrototypeFactoryInterface.html">ServicePrototypeFactoryInterface</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Verify</h3>
                <ul class="nav-list">
                    <li><a href="classes/Think/Verify/VerifyPrototype.html">VerifyPrototype</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Guidelines</h3>
                <ul class="nav-list">
                    <li><a href="master-prompt.html">Master Prompt</a></li>
                </ul>
            </div>
        </nav>
    </aside>

    <main class="content">
        <div class="hero">
            <h1>Foundation Container</h1>
            <p>A comprehensive dependency injection container that makes managing object dependencies simple and reliable.</p>
            <div class="meta">
                <strong>File Path:</strong> /<br>
                <strong>Folder Context:</strong> Root of the Container component<br>
                <strong>Generated:</strong> 2026-01-08
            </div>
        </div>

        <section id="quick-summary" class="section content-card">
            <h2>Quick Summary</h2>
            <p>The Foundation Container is your application's personal assistant for managing dependencies. When your code needs a tool, database connection, or service, you just ask the container, and it provides a fully configured instance. This eliminates the tedious work of manually creating and connecting objects, letting you focus on what your application actually does rather than how it's wired together.</p>
            <p>This component exists because manual dependency management leads to tightly coupled code that's hard to test, maintain, and extend. By centralizing object creation and wiring, the container makes your codebase more modular, testable, and flexible.</p>
        </section>

        <section id="terminology" class="section content-card">
            <h2>Terminology</h2>
            <dl>
                <dt>Dependency Injection (DI)</dt>
                <dd>The practice of providing objects with their dependencies rather than having them create dependencies themselves. Instead of a class creating its own database connection, the connection is "injected" from outside.</dd>
                <dt>Container</dt>
                <dd>A registry that knows how to create and configure objects. When you ask for a "UserService", the container builds it with all its required dependencies.</dd>
                <dt>Service</dt>
                <dd>Any object that the container can create and manage. This could be a database connection, email sender, or business logic class.</dd>
                <dt>Binding</dt>
                <dd>A rule that tells the container how to create a specific service. For example: "when asked for LoggerInterface, create a FileLogger instance".</dd>
                <dt>Autowiring</dt>
                <dd>The container automatically figuring out what dependencies a class needs by looking at its constructor parameters.</dd>
                <dt>Scope</dt>
                <dd>How long a service instance lives. Singleton scope means one instance for the whole application, scoped means one per request, transient means new instance each time.</dd>
                <dt>Resolution</dt>
                <dd>The process of turning a service name into an actual object instance, including all its dependencies.</dd>
                <dt>Constructor Injection</dt>
                <dd>Passing dependencies through a class's constructor, like <code>new UserService($database, $logger)</code>.</dd>
                <dt>Property Injection</dt>
                <dd>Setting dependencies directly on object properties after construction, often using attributes like #[Inject].</dd>
                <dt>Method Injection</dt>
                <dd>Calling methods on an object to provide dependencies, like <code>$object->setLogger($logger)</code>.</dd>
            </dl>
        </section>

        <section id="think-of-it" class="section content-card">
            <h2>Think of It Like...</h2>
            <p>Imagine you're running a busy restaurant kitchen. Each station (pasta, grill, dessert) needs specific tools and ingredients to do their job. Instead of each cook running to the store every time they need something, you have a professional kitchen system where:</p>
            <ul>
                <li>The pantry (container) stores all ingredients and tools</li>
                <li>Cooks ask the expediter (container interface) for what they need</li>
                <li>The expediter coordinates with storage and prep to provide exactly what's required</li>
                <li>Everything is prepared fresh or retrieved from storage as needed</li>
            </ul>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Restaurant Kitchen</th>
                            <th>Dependency Injection Container</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Cook asking for ingredients</td>
                            <td>Class requesting dependencies</td>
                        </tr>
                        <tr>
                            <td>Pantry storing food/supplies</td>
                            <td>Container storing service definitions</td>
                        </tr>
                        <tr>
                            <td>Expediter coordinating orders</td>
                            <td>Container coordinating object creation</td>
                        </tr>
                        <tr>
                            <td>Prep cook preparing ingredients</td>
                            <td>Autowiring resolving dependencies</td>
                        </tr>
                        <tr>
                            <td>Refrigerated storage for perishables</td>
                            <td>Scoped storage for request-bound services</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section id="story-example" class="section content-card">
            <h2>Story Example</h2>
            <p>Let's say you're building an e-commerce website. You have a <code>OrderProcessor</code> that needs to:</p>
            <ul>
                <li>Check inventory in the database</li>
                <li>Process payment through a gateway</li>
                <li>Send confirmation emails</li>
                <li>Log the transaction</li>
            </ul>
            <h3>The Problem Before DI</h3>
            <pre><code class="language-php">class OrderProcessor {
    public function process(Order $order) {
        // Manual dependency management - messy!
        $db = new DatabaseConnection('localhost', 'user', 'pass');
        $inventory = new InventoryService($db);
        
        if (!$inventory->checkStock($order)) {
            throw new Exception('Out of stock');
        }
        
        $payment = new StripeGateway('sk_test_...');
        $result = $payment->charge($order->total);
        
        $email = new SmtpMailer('smtp.gmail.com', 587, 'user@gmail.com');
        $email->send($order->email, 'Order Confirmed', '...');
        
        $logger = new FileLogger('/var/log/app.log');
        $logger->info("Order {$order->id} processed");
    }
}</code></pre>
            <h3>The Solution With Container</h3>
            <pre><code class="language-php">// In your bootstrap
$container->bind(InventoryInterface::class, SqlInventory::class);
$container->singleton(PaymentGateway::class, StripeGateway::class);
$container->bind(MailerInterface::class, SmtpMailer::class);
$container->singleton(LoggerInterface::class, FileLogger::class);

class OrderProcessor {
    public function __construct(
        private InventoryInterface $inventory,
        private PaymentGateway $payment,
        private MailerInterface $mailer,
        private LoggerInterface $logger
    ) {}
    
    public function process(Order $order) {
        if (!$this->inventory->checkStock($order)) {
            throw new Exception('Out of stock');
        }
        
        $result = $this->payment->charge($order->total);
        $this->mailer->send($order->email, 'Order Confirmed', '...');
        $this->logger->info("Order {$order->id} processed");
    }
}

// Usage
$processor = $container->get(OrderProcessor::class);
$processor->process($order);</code></pre>
            <p>Now your code is clean, testable, and flexible. You can easily swap payment providers, use different email services for testing, or change logging destinations without touching the business logic.</p>
        </section>

        <section id="for-dummies" class="section content-card">
            <h2>For Dummies</h2>
            <p>Dependency injection is like having a magic assistant who knows what you need before you ask. Instead of you hunting around your house for a screwdriver, hammer, and nails every time you want to hang a picture, your assistant appears with exactly the right tools, already organized and ready to use.</p>
            <h3>What Problem Does This Solve?</h3>
            <p>Without a container, every class has to know how to create its own dependencies. This leads to code like:</p>
            <pre><code class="language-php">class UserService {
    public function __construct() {
        $this->db = new Database();
        $this->logger = new FileLogger('/var/log/app.log');
        $this->cache = new RedisCache('localhost:6379');
    }
}</code></pre>
            <p>This is bad because:</p>
            <ul>
                <li>Hard to test (can't use fake database for tests)</li>
                <li>Hard to change (want to use different logger? Change everywhere)</li>
                <li>Tightly coupled (UserService is stuck with specific implementations)</li>
                <li>Configuration scattered throughout the code</li>
            </ul>
            <h3>How It Works (Simple Mental Model)</h3>
            <ol>
                <li>You tell the container: "When someone asks for DatabaseInterface, give them PostgresDatabase"</li>
                <li>Your classes say: "I need a DatabaseInterface" in their constructor</li>
                <li>When you ask the container for UserService, it reads the constructor and automatically provides the PostgresDatabase</li>
                <li>You get a fully wired UserService without knowing how it was assembled</li>
            </ol>
            <h3>Common Mistakes & Misconceptions</h3>
            <ul>
                <li><strong>Mistake:</strong> Using <code>$container->get()</code> inside classes instead of constructor injection</li>
                <li><strong>Why it's wrong:</strong> Makes classes hard to test and creates hidden dependencies</li>
                <li><strong>Fix:</strong> Always use constructor parameters for dependencies</li>
            </ul>
            <ul>
                <li><strong>Mistake:</strong> Making everything a singleton</li>
                <li><strong>Why it's wrong:</strong> Can cause state pollution between requests</li>
                <li><strong>Fix:</strong> Use scoped lifetime for request-specific data</li>
            </ul>
            <ul>
                <li><strong>Misconception:</strong> DI is only for big applications</li>
                <li><strong>Reality:</strong> Even small apps benefit from testable, maintainable code</li>
            </ul>
            <h3>FAQ</h3>
            <dl>
                <dt>Do I need to register every class?</dt>
                <dd>No! The container can automatically create concrete classes through autowiring. You only need bindings when you want to use interfaces or control which implementation to use.</dd>
                <dt>What's the difference between singleton and scoped?</dt>
                <dd>Singleton means one instance for the entire application. Scoped means one instance per "scope" (usually per web request). Use scoped for things that shouldn't be shared between users.</dd>
                <dt>How do I test classes that use the container?</dt>
                <dd>Don't inject the container - inject the specific services. Then in tests, you can pass mock objects directly to the constructor.</dd>
                <dt>Is this the same as a service locator?</dt>
                <dd>No. Service locator is an anti-pattern where classes ask for dependencies. DI pushes dependencies in through constructors, keeping classes clean and testable.</dd>
            </dl>
        </section>

        <section id="how-it-works" class="section content-card">
            <h2>How It Works (Technical)</h2>
            <p>The container uses a multi-phase process to resolve services:</p>
            <h3>Phase 1: Registration</h3>
            <ul>
                <li>Bindings are stored in DefinitionStore</li>
                <li>Prototypes are pre-computed for performance</li>
                <li>Reflection analyzes constructor signatures</li>
            </ul>
            <h3>Phase 2: Resolution Pipeline</h3>
            <ol>
                <li><strong>Scope Check:</strong> Fast lookup for existing instances</li>
                <li><strong>Binding Lookup:</strong> Find explicit service definitions</li>
                <li><strong>Autowiring Fallback:</strong> Analyze constructor for concrete classes</li>
                <li><strong>Recursive Resolution:</strong> Resolve all dependencies</li>
                <li><strong>Lifecycle Management:</strong> Cache according to scope rules</li>
                <li><strong>Injection:</strong> Apply property/method injection if configured</li>
            </ol>
            <h3>Key Patterns Used</h3>
            <ul>
                <li><strong>Factory Pattern:</strong> Container acts as a factory for object creation</li>
                <li><strong>Registry Pattern:</strong> Central storage of service definitions</li>
                <li><strong>Pipeline Pattern:</strong> Modular resolution steps</li>
                <li><strong>Strategy Pattern:</strong> Pluggable lifecycle strategies</li>
            </ul>
            <h3>Performance Optimizations</h3>
            <ul>
                <li>Prototype caching avoids repeated reflection</li>
                <li>Scope caches prevent unnecessary recreation</li>
                <li>Lazy loading defers expensive operations</li>
                <li>Compiled definitions for production deployment</li>
            </ul>
        </section>

        <section id="architecture-role" class="section content-card">
            <h2>Architecture Role</h2>
            <p>This is the root component of the entire dependency injection system. It sits at the foundation of your application architecture, providing the infrastructure that enables loosely coupled, testable code.</p>
            <h3>What Depends on This Component</h3>
            <ul>
                <li>All application services and business logic</li>
                <li>Web frameworks and HTTP request handling</li>
                <li>Data access layers and repositories</li>
                <li>External integrations and APIs</li>
                <li>Background jobs and queue processors</li>
            </ul>
            <h3>What This Component Depends On</h3>
            <ul>
                <li>PHP reflection system for class analysis</li>
                <li>File system for configuration and caching</li>
                <li>PSR standards for interoperability</li>
                <li>Optional: external configuration formats (YAML, etc.)</li>
            </ul>
            <h3>How It Fits Into the Larger System</h3>
            <p>The container acts as the composition root - the single place where your application's object graph is assembled. This inversion of control means:</p>
            <ul>
                <li>Application code focuses on behavior, not assembly</li>
                <li>Configuration is centralized and version controlled</li>
                <li>Testing becomes straightforward with dependency substitution</li>
                <li>Cross-cutting concerns (logging, security) can be applied uniformly</li>
            </ul>
        </section>

        <section id="risks-trade-offs" class="section content-card">
            <h2>Risks, Trade-offs & Recommended Practices</h2>
            <h3>Performance Considerations</h3>
            <p><strong>Risk:</strong> Container resolution can be slower than direct instantiation due to reflection and recursive dependency resolution.</p>
            <p><strong>Why it matters:</strong> High-traffic applications might experience latency if services are resolved frequently in hot paths.</p>
            <p><strong>Design stance:</strong> The container optimizes for maintainability over raw performance, using caching and compilation to mitigate costs.</p>
            <p><strong>Recommended practice:</strong> Use singleton scope for stateless services, enable compilation for production, and avoid container calls in tight loops.</p>
            <h3>Security Boundaries</h3>
            <p><strong>Risk:</strong> Malicious services could be registered if configuration is compromised.</p>
            <p><strong>Why it matters:</strong> Container controls object creation, so compromised bindings could lead to code execution vulnerabilities.</p>
            <p><strong>Design stance:</strong> The Guard component provides namespace whitelisting and policy enforcement.</p>
            <p><strong>Recommended practice:</strong> Always validate configuration sources, use namespace restrictions in production, and audit service registrations.</p>
            <h3>Memory Management</h3>
            <p><strong>Risk:</strong> Scoped instances not properly cleaned up can cause memory leaks in long-running applications.</p>
            <p><strong>Why it matters:</strong> Web applications serving many requests could accumulate garbage if scopes aren't managed.</p>
            <p><strong>Design stance:</strong> Scope lifecycle is explicit with beginScope()/endScope() to ensure cleanup.</p>
            <p><strong>Recommended practice:</strong> Always use try/finally blocks around scoped operations, monitor memory usage, and implement proper disposal patterns.</p>
            <h3>Testing Complexity</h3>
            <p><strong>Risk:</strong> Over-reliance on global container state makes integration tests brittle.</p>
            <p><strong>Why it matters:</strong> Tests that depend on global container configuration can interfere with each other.</p>
            <p><strong>Design stance:</strong> Container supports both global and local instances for different testing strategies.</p>
            <p><strong>Recommended practice:</strong> Use local container instances for unit tests, avoid global state in test suites, and prefer constructor injection for testability.</p>
            <h3>Configuration Drift</h3>
            <p><strong>Risk:</strong> Runtime binding changes can make application behavior unpredictable.</p>
            <p><strong>Why it matters:</strong> Dynamic service registration could lead to inconsistent behavior across requests.</p>
            <p><strong>Design stance:</strong> Bindings are designed to be immutable after bootstrap to ensure consistency.</p>
            <p><strong>Recommended practice:</strong> Perform all configuration during bootstrap, avoid runtime binding modifications, and use feature flags for conditional behavior.</p>
        </section>

        <section id="related-files-folders" class="section content-card">
            <h2>Related Files &amp; Folders</h2>
            <ul>
                <li><strong>Parent folder:</strong> N/A (this is the root)</li>
                <li><strong>Sibling files:</strong> Container.php (main facade), Container.txt (documentation notes)</li>
                <li><strong>Child folders:</strong>
                    <ul>
                        <li><strong>Core:</strong> Essential container infrastructure (kernel, resolution engine)</li>
                        <li><strong>Features:</strong> Extended capabilities (advanced injection, scoping)</li>
                        <li><strong>Guard:</strong> Security and policy enforcement</li>
                        <li><strong>Observe:</strong> Monitoring, metrics, and diagnostics</li>
                        <li><strong>Providers:</strong> Pre-built service integrations</li>
                        <li><strong>tests:</strong> Test suites and fixtures</li>
                        <li><strong>Tools:</strong> CLI utilities for development</li>
                    </ul>
                </li>
            </ul>
            <p><strong>Reading order:</strong> Start with Container.php, then Core/ContainerKernel.php, then explore features based on your needs.</p>
        </section>
    </main>
</div>
</body>
</html>
