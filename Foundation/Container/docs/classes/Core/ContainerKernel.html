<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>ContainerKernel</title>
    <link href="../../styles.css" rel="stylesheet">
</head>
<body>
<div class="layout">
                            <aside class="sidebar">
        <div class="brand"><a href="../../index.html">Container Docs</a></div>
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search...">
        </div>
        <nav>
            <div class="nav-section">
                <h3 class="nav-title">Container (Root)</h3>
                <ul class="nav-list">
                    <li><a href="../Container.html">Container</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Act/Inject</h3>
                <ul class="nav-list">
                    <li><a href="../Act/Inject/InjectDependencies.html">InjectDependencies</a></li>
                    <li><a href="../Act/Inject/PropertyInjector.html">PropertyInjector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Advanced/Lazy</h3>
                <ul class="nav-list">
                    <li><a href="../Actions/Advanced/Lazy/LazyInterface.html">LazyInterface</a></li>
                    <li><a href="../Actions/Advanced/Lazy/LazyValue.html">LazyValue</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Inject</h3>
                <ul class="nav-list">
                    <li><a href="../Actions/Inject/InjectDependencies.html">InjectDependencies</a></li>
                    <li><a href="../Actions/Inject/PropertyInjector.html">PropertyInjector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Inject/Resolvers</h3>
                <ul class="nav-list">
                    <li><a href="../Actions/Inject/Resolvers/PropertyResolution.html">PropertyResolution</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Instantiate</h3>
                <ul class="nav-list">
                    <li><a href="../Actions/Instantiate/Instantiator.html">Instantiator</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Invoke/Cache</h3>
                <ul class="nav-list">
                    <li><a href="../Actions/Invoke/Cache/ReflectionCache.html">ReflectionCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Lazy</h3>
                <ul class="nav-list">
                    <li><a href="../Advanced/Lazy/LazyInterface.html">LazyInterface</a></li>
                    <li><a href="../Advanced/Lazy/LazyValue.html">LazyValue</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Observe</h3>
                <ul class="nav-list">
                    <li><a href="../Advanced/Observe/DiagnosticsFlow.html">DiagnosticsFlow</a></li>
                    <li><a href="../Advanced/Observe/Telemetry.html">Telemetry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Policy</h3>
                <ul class="nav-list">
                    <li><a href="../Advanced/Policy/PolicyFlow.html">PolicyFlow</a></li>
                    <li><a href="../Advanced/Policy/Security.html">Security</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core</h3>
                <ul class="nav-list">
                    <li><a href="Container.html">Container</a></li>
                    <li><a href="ContainerBuilder.html">ContainerBuilder</a></li>
                    <li><a href="ContainerConfig.html">ContainerConfig</a></li>
                    <li><a href="ContainerEngine.html">ContainerEngine</a></li>
                    <li><a href="ContainerKernel.html">ContainerKernel</a></li>
                    <li><a href="ResolutionEngine.html">ResolutionEngine</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Attribute</h3>
                <ul class="nav-list">
                    <li><a href="Attribute/Inject.html">Inject</a></li>
                    <li><a href="Attribute/Singleton.html">Singleton</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/DTO</h3>
                <ul class="nav-list">
                    <li><a href="DTO/ErrorDTO.html">ErrorDTO</a></li>
                    <li><a href="DTO/InjectionReport.html">InjectionReport</a></li>
                    <li><a href="DTO/SuccessDTO.html">SuccessDTO</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Enum</h3>
                <ul class="nav-list">
                    <li><a href="Enum/ServiceLifetime.html">ServiceLifetime</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Exceptions</h3>
                <ul class="nav-list">
                    <li><a href="Exceptions/ContainerExceptions.html">ContainerExceptions</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel</h3>
                <ul class="nav-list">
                    <li><a href="Kernel/KernelCompiler.html">KernelCompiler</a></li>
                    <li><a href="Kernel/KernelConfig.html">KernelConfig</a></li>
                    <li><a href="Kernel/KernelFacade.html">KernelFacade</a></li>
                    <li><a href="Kernel/KernelRuntime.html">KernelRuntime</a></li>
                    <li><a href="Kernel/KernelState.html">KernelState</a></li>
                    <li><a href="Kernel/LifecycleResolver.html">LifecycleResolver</a></li>
                    <li><a href="Kernel/LifecycleStrategyRegistry.html">LifecycleStrategyRegistry</a></li>
                    <li><a href="Kernel/ResolutionPipeline.html">ResolutionPipeline</a></li>
                    <li><a href="Kernel/ResolutionPipelineBuilder.html">ResolutionPipelineBuilder</a></li>
                    <li><a href="Kernel/StepTelemetryCollector.html">StepTelemetryCollector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Contracts</h3>
                <ul class="nav-list">
                    <li><a href="Kernel/Contracts/KernelContext.html">KernelContext</a></li>
                    <li><a href="Kernel/Contracts/KernelStep.html">KernelStep</a></li>
                    <li><a href="Kernel/Contracts/LifecycleStrategy.html">LifecycleStrategy</a></li>
                    <li><a href="Kernel/Contracts/StepTelemetry.html">StepTelemetry</a></li>
                    <li><a href="Kernel/Contracts/TerminalKernelStep.html">TerminalKernelStep</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Events</h3>
                <ul class="nav-list">
                    <li><a href="Kernel/Events/StepFailed.html">StepFailed</a></li>
                    <li><a href="Kernel/Events/StepStarted.html">StepStarted</a></li>
                    <li><a href="Kernel/Events/StepSucceeded.html">StepSucceeded</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Steps</h3>
                <ul class="nav-list">
                    <li><a href="Kernel/Steps/AnalyzePrototypeStep.html">AnalyzePrototypeStep</a></li>
                    <li><a href="Kernel/Steps/ApplyExtendersStep.html">ApplyExtendersStep</a></li>
                    <li><a href="Kernel/Steps/CircularDependencyStep.html">CircularDependencyStep</a></li>
                    <li><a href="Kernel/Steps/CollectDiagnosticsStep.html">CollectDiagnosticsStep</a></li>
                    <li><a href="Kernel/Steps/DepthGuardStep.html">DepthGuardStep</a></li>
                    <li><a href="Kernel/Steps/EnsureDefinitionExistsStep.html">EnsureDefinitionExistsStep</a></li>
                    <li><a href="Kernel/Steps/GuardPolicyStep.html">GuardPolicyStep</a></li>
                    <li><a href="Kernel/Steps/InjectDependenciesStep.html">InjectDependenciesStep</a></li>
                    <li><a href="Kernel/Steps/InvokePostConstructStep.html">InvokePostConstructStep</a></li>
                    <li><a href="Kernel/Steps/ResolveInstanceStep.html">ResolveInstanceStep</a></li>
                    <li><a href="Kernel/Steps/RetrieveFromScopeStep.html">RetrieveFromScopeStep</a></li>
                    <li><a href="Kernel/Steps/StoreLifecycleStep.html">StoreLifecycleStep</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Strategies</h3>
                <ul class="nav-list">
                    <li><a href="Kernel/Strategies/ScopedLifecycleStrategy.html">ScopedLifecycleStrategy</a></li>
                    <li><a href="Kernel/Strategies/SingletonLifecycleStrategy.html">SingletonLifecycleStrategy</a></li>
                    <li><a href="Kernel/Strategies/TransientLifecycleStrategy.html">TransientLifecycleStrategy</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Utils</h3>
                <ul class="nav-list">
                    <li><a href="Utils/ArrayTools.html">ArrayTools</a></li>
                    <li><a href="Utils/StrTools.html">StrTools</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Bind</h3>
                <ul class="nav-list">
                    <li><a href="../Define/Bind/BindingBuilder.html">BindingBuilder</a></li>
                    <li><a href="../Define/Bind/ContextBuilder.html">ContextBuilder</a></li>
                    <li><a href="../Define/Bind/Registrar.html">Registrar</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Store</h3>
                <ul class="nav-list">
                    <li><a href="../Define/Store/DefinitionStore.html">DefinitionStore</a></li>
                    <li><a href="../Define/Store/ServiceDefinition.html">ServiceDefinition</a></li>
                    <li><a href="../Define/Store/ServiceDefinitionEntity.html">ServiceDefinitionEntity</a></li>
                    <li><a href="../Define/Store/ServiceDiscovery.html">ServiceDiscovery</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Store/Compiler</h3>
                <ul class="nav-list">
                    <li><a href="../Define/Store/Compiler/CompilerPassInterface.html">CompilerPassInterface</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke</h3>
                <ul class="nav-list">
                    <li><a href="../Invoke/InvocationExecutor.html">InvocationExecutor</a></li>
                    <li><a href="../Invoke/InvokeAction.html">InvokeAction</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke/Cache</h3>
                <ul class="nav-list">
                    <li><a href="../Invoke/Cache/ReflectionCache.html">ReflectionCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke/Context</h3>
                <ul class="nav-list">
                    <li><a href="../Invoke/Context/InvocationContext.html">InvocationContext</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate</h3>
                <ul class="nav-list">
                    <li><a href="../Operate/ScopeManager.html">ScopeManager</a></li>
                    <li><a href="../Operate/ScopeRegistry.html">ScopeRegistry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Boot</h3>
                <ul class="nav-list">
                    <li><a href="../Operate/Boot/Application.html">Application</a></li>
                    <li><a href="../Operate/Boot/ApplicationBuilder.html">ApplicationBuilder</a></li>
                    <li><a href="../Operate/Boot/ContainerBootstrapper.html">ContainerBootstrapper</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Config</h3>
                <ul class="nav-list">
                    <li><a href="../Operate/Config/BootstrapProfile.html">BootstrapProfile</a></li>
                    <li><a href="../Operate/Config/ContainerConfig.html">ContainerConfig</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Scope</h3>
                <ul class="nav-list">
                    <li><a href="../Operate/Scope/ScopeManager.html">ScopeManager</a></li>
                    <li><a href="../Operate/Scope/ScopeRegistry.html">ScopeRegistry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Shutdown</h3>
                <ul class="nav-list">
                    <li><a href="../Operate/Shutdown/TerminateContainer.html">TerminateContainer</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve</h3>
                <ul class="nav-list">
                    <li><a href="../Resolve/DependencyResolver.html">DependencyResolver</a></li>
                    <li><a href="../Resolve/ResolutionContext.html">ResolutionContext</a></li>
                    <li><a href="../Resolve/ResolutionEngine.html">ResolutionEngine</a></li>
                    <li><a href="../Resolve/ResolutionPipeline.html">ResolutionPipeline</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve/Pipes</h3>
                <ul class="nav-list">
                    <li><a href="../Resolve/Pipes/AutowirePipe.html">AutowirePipe</a></li>
                    <li><a href="../Resolve/Pipes/BindingPipe.html">BindingPipe</a></li>
                    <li><a href="../Resolve/Pipes/ScopePipe.html">ScopePipe</a></li>
                    <li><a href="../Resolve/Pipes/TerminalPipe.html">TerminalPipe</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve/Resolvers</h3>
                <ul class="nav-list">
                    <li><a href="../Resolve/Resolvers/DefaultResolver.html">DefaultResolver</a></li>
                    <li><a href="../Resolve/Resolvers/ExceptionResolver.html">ExceptionResolver</a></li>
                    <li><a href="../Resolve/Resolvers/NullResolver.html">NullResolver</a></li>
                    <li><a href="../Resolve/Resolvers/OverrideResolver.html">OverrideResolver</a></li>
                    <li><a href="../Resolve/Resolvers/ParameterResolutionChain.html">ParameterResolutionChain</a></li>
                    <li><a href="../Resolve/Resolvers/ParameterResolver.html">ParameterResolver</a></li>
                    <li><a href="../Resolve/Resolvers/TypeResolver.html">TypeResolver</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Analyze</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Analyze/PrototypeAnalyzer.html">PrototypeAnalyzer</a></li>
                    <li><a href="../Think/Analyze/ReflectionTypeAnalyzer.html">ReflectionTypeAnalyzer</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Cache</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Cache/FilePrototypeCache.html">FilePrototypeCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Model</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Model/MethodPrototype.html">MethodPrototype</a></li>
                    <li><a href="../Think/Model/ParameterPrototype.html">ParameterPrototype</a></li>
                    <li><a href="../Think/Model/PropertyPrototype.html">PropertyPrototype</a></li>
                    <li><a href="../Think/Model/ServicePrototype.html">ServicePrototype</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Prototype</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Prototype/ServicePrototypeFactory.html">ServicePrototypeFactory</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Prototype/Contracts</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Prototype/Contracts/ServicePrototypeFactoryInterface.html">ServicePrototypeFactoryInterface</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Verify</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Verify/VerifyPrototype.html">VerifyPrototype</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Guidelines</h3>
                <ul class="nav-list">
                    <li><a href="../../master-prompt.html">Master Prompt</a></li>
                </ul>
            </div>
        </nav>
    </aside>
    <main class="content">
        <section class="hero">
            <h1>ContainerKernel</h1>
            <p>Core runtime orchestrator for the container.</p>
            <div class="meta">Foundation/Container/Core/ContainerKernel.php</div>
        </section>

        <section class="section">
            <h2>Class Overview</h2>
            <div class="card">
                <p>ContainerKernel is the heart of the container runtime. It orchestrates all container operations by coordinating between specialized components like the resolution pipeline, scope manager, definition store, and prototype factory.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To provide a central coordination point for all container operations</p>
                    <p>- To encapsulate complex interactions between container subsystems</p>
                    <p>- To maintain clean separation of concerns between different container aspects</p>
                    <p>- To enable consistent behavior across all resolution operations</p>
                    <p><strong>HOW IT FITS IN THE ARCHITECTURE:</strong></p>
                    <p>The ContainerKernel sits at the center of the container architecture:</p>
                    <p>- Receives requests from the Container facade</p>
                    <p>- Coordinates with KernelRuntime for resolution</p>
                    <p>- Manages state through KernelState</p>
                    <p>- Handles compilation via KernelCompiler</p>
                    <p>- Provides unified access through KernelFacade</p>
                    <p><strong>KEY COMPONENTS IT ORCHESTRATES:</strong></p>
                    <p><em>KernelRuntime</em>: Executes the resolution pipeline</p>
                    <p><em>KernelState</em>: Manages internal state and lazy initialization</p>
                    <p><em>KernelCompiler</em>: Handles compilation and optimization</p>
                    <p><em>KernelFacade</em>: Provides simplified access to complex operations</p>
                    <p><strong>INITIALIZATION PROCESS:</strong></p>
                    <p>During construction, the kernel:</p>
                    <p>1. Builds the resolution pipeline from configuration</p>
                    <p>2. Initializes runtime with pipeline and invoker</p>
                    <p>3. Creates state management for lazy components</p>
                    <p>4. Sets up compiler for analysis and optimization</p>
                    <p>5. Configures facade for high-level operations</p>
                </details>
            </div>
        </section>

        <section class="section">
            <h2>Architecture Example</h2>
            <div class="card">
                <pre><code class="language-php">// ContainerKernel coordinates multiple specialized components
$kernel = new ContainerKernel($definitions, $config);

// Each component has a specific responsibility:
$runtime = $kernel->runtime;      // Executes resolution
$compiler = $kernel->compiler;    // Analyzes and optimizes
$facade = $kernel->facade;        // Simplifies complex operations

// Kernel routes requests to appropriate components
$service = $kernel->get('UserService');  // → runtime.get()
$kernel->beginScope();                   // → facade.scopes().beginScope()
$report = $kernel->inspectInjection($obj); // → analyzes via prototype factory</code></pre>
                <details class="more">
                    <summary>More</summary>
                    <p>The kernel acts as a smart router, delegating each type of operation to the component best suited to handle it. This separation allows each component to focus on its specialty while the kernel maintains overall coherence.</p>
                </details>
            </div>
        </section>

        <section class="section">
            <h2>Methods</h2>

            <div class="card" id="__construct">
                <h3>__construct</h3>
                <p>Initialize the kernel with core components.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To bootstrap all container subsystems in the correct order</p>
                    <p>- To establish connections between interdependent components</p>
                    <p>- To validate configuration before runtime operation</p>
                    <p><strong>WHAT IT BUILDS:</strong></p>
                    <p><em>Resolution Pipeline</em>: The sequence of steps for service resolution</p>
                    <p><em>Runtime Environment</em>: Execution context with invoker and pipeline</p>
                    <p><em>State Management</em>: Lazy initialization system for heavy components</p>
                    <p><em>Compiler</em>: Analysis and optimization tools</p>
                    <p><em>Facade</em>: Simplified API over complex operations</p>
                    <p><strong>INITIALIZATION ORDER:</strong></p>
                    <p>1. Build pipeline from config</p>
                    <p>2. Create runtime with pipeline</p>
                    <p>3. Initialize state management</p>
                    <p>4. Set up compiler</p>
                    <p>5. Configure facade</p>
                    <p><strong>DEPENDENCY INJECTION:</strong></p>
                    <p>The kernel receives DefinitionStore and KernelConfig, which contain all the configuration and bindings needed for operation.</p>
                </details>
            </div>

            <div class="card" id="get">
                <h3>get</h3>
                <p>Resolve a service by identifier.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To provide the fast-path resolution entry point</p>
                    <p>- To check scopes before expensive pipeline execution</p>
                    <p>- To maintain the hot-path optimization for cached services</p>
                    <p><strong>HOT-PATH OPTIMIZATION:</strong></p>
                    <p>The method implements a two-tier lookup:</p>
                    <p>1. <strong>O(1) Scope Check</strong>: Instant lookup in active scopes</p>
                    <p>2. <strong>Pipeline Resolution</strong>: Full resolution process if not cached</p>
                    <p><strong>PERFORMANCE CHARACTERISTICS:</strong></p>
                    <p>- Cached services: Microseconds (scope lookup)</p>
                    <p>- New services: Milliseconds (reflection, construction, injection)</p>
                    <p>- Memory impact: Minimal for cached, variable for new instances</p>
                    <p><strong>SCOPE BEHAVIOR:</strong></p>
                    <p>Respects singleton, scoped, and transient lifetimes. Scoped instances are returned immediately if available in the current scope hierarchy.</p>
                </details>
            </div>

            <div class="card" id="has">
                <h3>has</h3>
                <p>Check if a service is registered or can be resolved.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To enable conditional service usage without triggering resolution</p>
                    <p>- To support defensive programming patterns</p>
                    <p>- To provide lightweight existence checks</p>
                    <p><strong>CHECK HIERARCHY:</strong></p>
                    <p>1. <strong>Definition Store</strong>: Explicit bindings and registrations</p>
                    <p>2. <strong>Active Scopes</strong>: Currently resolved instances</p>
                    <p>3. <strong>Class Reflection</strong>: Concrete classes that can be instantiated</p>
                    <p><strong>WHAT IT DOESN'T DO:</strong></p>
                    <p>- Doesn't validate constructor dependencies</p>
                    <p>- Doesn't check property/method injection compatibility</p>
                    <p>- Doesn't perform any construction or caching</p>
                    <p>- Doesn't trigger lazy loading</p>
                    <p><strong>USE CASES:</strong></p>
                    <p>- Plugin systems checking for optional features</p>
                    <p>- Configuration-driven conditional behavior</p>
                    <p>- Testing with mock service availability</p>
                </details>
            </div>

            <div class="card" id="resolveContext">
                <h3>resolveContext</h3>
                <p>Resolve a service with context.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To support advanced resolution scenarios with additional metadata</p>
                    <p>- To enable contextual binding selection</p>
                    <p>- To provide resolution context for debugging and tracing</p>
                    <p><strong>CONTEXT FEATURES:</strong></p>
                    <p><em>Service ID</em>: The identifier being resolved</p>
                    <p><em>Resolution Path</em>: Stack of dependent services</p>
                    <p><em>Binding Context</em>: Information for conditional bindings</p>
                    <p><em>Debug Info</em>: Resolution metadata for diagnostics</p>
                    <p><strong>SCOPE OPTIMIZATION:</strong></p>
                    <p>Even with context, the method first checks if the service is already available in active scopes, avoiding unnecessary context processing for cached instances.</p>
                </details>
            </div>

            <div class="card" id="scopes">
                <h3>scopes</h3>
                <p>Get the scope manager.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To provide access to the scope management system</p>
                    <p>- To enable manual scope manipulation when needed</p>
                    <p>- To support advanced scoping scenarios</p>
                    <p><strong>WHAT IT PROVIDES:</strong></p>
                    <p>Access to the ScopeManager which handles:</p>
                    <p>- Singleton scope (global instances)</p>
                    <p>- Scoped instances (per-request/session/etc.)</p>
                    <p>- Scope nesting and hierarchy</p>
                    <p>- Instance disposal and cleanup</p>
                    <p><strong>USE WITH CAUTION:</strong></p>
                    <p>Most applications should use beginScope()/endScope() instead of direct scope manipulation. Direct access is provided for advanced integrations and testing.</p>
                </details>
            </div>

            <div class="card" id="instance">
                <h3>instance</h3>
                <p>Register a shared instance.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To register pre-configured objects as services</p>
                    <p>- To integrate with external systems and frameworks</p>
                    <p>- To override automatic resolution with specific instances</p>
                    <p><strong>WHAT IT DOES:</strong></p>
                    <p>Delegates to the facade's instance registration, which:</p>
                    <p>- Stores the instance in the singleton scope</p>
                    <p>- Makes it available for all future resolutions of that abstract</p>
                    <p>- Bypasses automatic construction and injection</p>
                    <p><strong>LIFETIME IMPLICATIONS:</strong></p>
                    <p>The instance becomes a singleton, returned for all requests until explicitly replaced or the container is rebuilt.</p>
                </details>
            </div>

            <div class="card" id="make">
                <h3>make</h3>
                <p>Create a new instance with optional parameters.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To create instances without scope caching</p>
                    <p>- To support factory patterns and multiple instances</p>
                    <p>- To enable parameter overrides for testing and customization</p>
                    <p><strong>DIFFERENCE FROM get():</strong></p>
                    <p>- get(): Checks scopes, caches result</p>
                    <p>- make(): Always creates new, never caches</p>
                    <p><strong>PARAMETER OVERRIDE:</strong></p>
                    <p>Runtime parameters can replace or supplement automatic dependency resolution, useful for:</p>
                    <p>- Test doubles and mocks</p>
                    <p>- Contextual configuration</p>
                    <p>- Factory method parameters</p>
                </details>
            </div>

            <div class="card" id="resolve">
                <h3>resolve</h3>
                <p>Resolve a service from a prototype.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To resolve services using pre-computed blueprints</p>
                    <p>- To bypass analysis phase for performance</p>
                    <p>- To support compilation and optimization workflows</p>
                    <p><strong>PROTOTYPE ADVANTAGES:</strong></p>
                    <p>- Eliminates runtime reflection</p>
                    <p>- Provides predictable construction</p>
                    <p>- Enables ahead-of-time validation</p>
                    <p>- Supports optimization techniques</p>
                    <p><strong>WHEN TO USE:</strong></p>
                    <p>- During compilation and warmup phases</p>
                    <p>- When prototypes are available from analysis</p>
                    <p>- In performance-critical code paths</p>
                </details>
            </div>

            <div class="card" id="call">
                <h3>call</h3>
                <p>Call a callable with dependency injection.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To enable dependency injection for functions and methods</p>
                    <p>- To support controller actions and event handlers</p>
                    <p>- To provide consistent resolution for callable parameters</p>
                    <p><strong>CALLABLE SUPPORT:</strong></p>
                    <p>- Functions: Global functions and closures</p>
                    <p>- Methods: Static and instance methods</p>
                    <p>- Invokables: Objects with __invoke method</p>
                    <p><strong>PARAMETER RESOLUTION:</strong></p>
                    <p>Automatically resolves parameters by:</p>
                    <p>1. Type hints (preferred)</p>
                    <p>2. Parameter names</p>
                    <p>3. Explicit overrides</p>
                </details>
            </div>

            <div class="card" id="injectInto">
                <h3>injectInto</h3>
                <p>Inject dependencies into an existing object.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To inject dependencies into objects created outside the container</p>
                    <p>- To support legacy code and third-party libraries</p>
                    <p>- To enable partial dependency injection</p>
                    <p><strong>INJECTION TARGETS:</strong></p>
                    <p>- Property injection via #[Inject] attributes</p>
                    <p>- Method injection via #[Inject] attributes</p>
                    <p>- Constructor injection (if not already done)</p>
                    <p><strong>SCOPE AWARENESS:</strong></p>
                    <p>Respects scope boundaries - will not inject scoped instances outside their valid lifetime context.</p>
                </details>
            </div>

            <div class="card" id="beginScope">
                <h3>beginScope</h3>
                <p>Start a new resolution scope.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To create isolated instance containers</p>
                    <p>- To support per-request or per-session services</p>
                    <p>- To enable proper resource cleanup</p>
                    <p><strong>SCOPE TYPES:</strong></p>
                    <p>- Request scopes for web applications</p>
                    <p>- Session scopes for user-specific data</p>
                    <p>- Unit-of-work scopes for transactions</p>
                    <p>- Custom scopes for specific use cases</p>
                    <p><strong>NESTING:</strong></p>
                    <p>Scopes can be nested. Child scopes can access parent scope instances, but not vice versa.</p>
                </details>
            </div>

            <div class="card" id="endScope">
                <h3>endScope</h3>
                <p>End the current resolution scope.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To clean up scoped instances</p>
                    <p>- To prevent memory leaks in long-running applications</p>
                    <p>- To trigger disposal of temporary resources</p>
                    <p><strong>CLEANUP PROCESS:</strong></p>
                    <p>1. Dispose all scoped instances</p>
                    <p>2. Remove scope from hierarchy</p>
                    <p>3. Trigger cleanup callbacks</p>
                    <p>4. Free memory associated with scope</p>
                    <p><strong>DISPOSAL:</strong></p>
                    <p>Calls disposal methods on services that implement termination interfaces.</p>
                </details>
            </div>

            <div class="card" id="canInject">
                <h3>canInject</h3>
                <p>Check if an object can receive dependency injection.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To validate injection compatibility before attempting</p>
                    <p>- To support conditional injection logic</p>
                    <p>- To provide feedback for debugging</p>
                    <p><strong>VALIDATION CHECKS:</strong></p>
                    <p>- Presence of #[Inject] attributes</p>
                    <p>- Accessibility of injection targets</p>
                    <p>- Compatibility of property/method signatures</p>
                    <p><strong>PERFORMANCE:</strong></p>
                    <p>Lightweight check that analyzes the object's prototype without performing actual injection.</p>
                </details>
            </div>

            <div class="card" id="inspectInjection">
                <h3>inspectInjection</h3>
                <p>Inspect injection points on an object.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To provide detailed injection analysis</p>
                    <p>- To support tooling and debugging</p>
                    <p>- To enable validation and optimization</p>
                    <p><strong>ANALYSIS RESULTS:</strong></p>
                    <p>- Properties requiring injection</p>
                    <p>- Methods requiring injection</p>
                    <p>- Parameter types for each injection point</p>
                    <p>- Success/failure indicators</p>
                    <p><strong>USE CASES:</strong></p>
                    <p>- IDE tooling for container awareness</p>
                    <p>- Debugging injection issues</p>
                    <p>- Validation during development</p>
                    <p>- Documentation generation</p>
                </details>
            </div>

            <div class="card" id="exportMetrics">
                <h3>exportMetrics</h3>
                <p>Export metrics as string.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To provide observability into container performance</p>
                    <p>- To enable monitoring and alerting</p>
                    <p>- To support performance optimization</p>
                    <p><strong>METRICS INCLUDED:</strong></p>
                    <p>- Resolution counts and timings</p>
                    <p>- Cache hit/miss ratios</p>
                    <p>- Scope usage statistics</p>
                    <p>- Memory usage information</p>
                    <p>- Error rates and types</p>
                    <p><strong>TELEMETRY INTEGRATION:</strong></p>
                    <p>Delegates to the telemetry component, which aggregates metrics from all container subsystems.</p>
                </details>
            </div>

            <div class="card" id="getDefinitions">
                <h3>getDefinitions</h3>
                <p>Get the definition store.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To provide access to service definitions for tooling</p>
                    <p>- To enable advanced container manipulation</p>
                    <p>- To support bootstrap and configuration systems</p>
                    <p><strong>WHAT IT CONTAINS:</strong></p>
                    <p>- Service bindings and registrations</p>
                    <p>- Factory functions and configurations</p>
                    <p>- Lifetime specifications</p>
                    <p>- Extension and decorator definitions</p>
                    <p><strong>USE WITH CAUTION:</strong></p>
                    <p>Direct manipulation can break container invariants. Most applications should use the high-level Container API instead.</p>
                </details>
            </div>
        </section>
    </main>
</div>
</body>
</html>