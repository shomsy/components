<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>ContainerConfig</title>
    <link href="../../styles.css" rel="stylesheet">
</head>
<body>
<div class="layout">
                            <aside class="sidebar">
        <div class="brand"><a href="../../index.html">Container Docs</a></div>
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Search...">
        </div>
        <nav>
            <div class="nav-section">
                <h3 class="nav-title">Container (Root)</h3>
                <ul class="nav-list">
                    <li><a href="../Container.html">Container</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Act/Inject</h3>
                <ul class="nav-list">
                    <li><a href="../Act/Inject/InjectDependencies.html">InjectDependencies</a></li>
                    <li><a href="../Act/Inject/PropertyInjector.html">PropertyInjector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Advanced/Lazy</h3>
                <ul class="nav-list">
                    <li><a href="../Actions/Advanced/Lazy/LazyInterface.html">LazyInterface</a></li>
                    <li><a href="../Actions/Advanced/Lazy/LazyValue.html">LazyValue</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Inject</h3>
                <ul class="nav-list">
                    <li><a href="../Actions/Inject/InjectDependencies.html">InjectDependencies</a></li>
                    <li><a href="../Actions/Inject/PropertyInjector.html">PropertyInjector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Inject/Resolvers</h3>
                <ul class="nav-list">
                    <li><a href="../Actions/Inject/Resolvers/PropertyResolution.html">PropertyResolution</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Instantiate</h3>
                <ul class="nav-list">
                    <li><a href="../Actions/Instantiate/Instantiator.html">Instantiator</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Actions/Invoke/Cache</h3>
                <ul class="nav-list">
                    <li><a href="../Actions/Invoke/Cache/ReflectionCache.html">ReflectionCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Lazy</h3>
                <ul class="nav-list">
                    <li><a href="../Advanced/Lazy/LazyInterface.html">LazyInterface</a></li>
                    <li><a href="../Advanced/Lazy/LazyValue.html">LazyValue</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Observe</h3>
                <ul class="nav-list">
                    <li><a href="../Advanced/Observe/DiagnosticsFlow.html">DiagnosticsFlow</a></li>
                    <li><a href="../Advanced/Observe/Telemetry.html">Telemetry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Advanced/Policy</h3>
                <ul class="nav-list">
                    <li><a href="../Advanced/Policy/PolicyFlow.html">PolicyFlow</a></li>
                    <li><a href="../Advanced/Policy/Security.html">Security</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core</h3>
                <ul class="nav-list">
                    <li><a href="Container.html">Container</a></li>
                    <li><a href="ContainerBuilder.html">ContainerBuilder</a></li>
                    <li><a href="ContainerConfig.html">ContainerConfig</a></li>
                    <li><a href="ContainerEngine.html">ContainerEngine</a></li>
                    <li><a href="ContainerKernel.html">ContainerKernel</a></li>
                    <li><a href="ResolutionEngine.html">ResolutionEngine</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Attribute</h3>
                <ul class="nav-list">
                    <li><a href="Attribute/Inject.html">Inject</a></li>
                    <li><a href="Attribute/Singleton.html">Singleton</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/DTO</h3>
                <ul class="nav-list">
                    <li><a href="DTO/ErrorDTO.html">ErrorDTO</a></li>
                    <li><a href="DTO/InjectionReport.html">InjectionReport</a></li>
                    <li><a href="DTO/SuccessDTO.html">SuccessDTO</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Enum</h3>
                <ul class="nav-list">
                    <li><a href="Enum/ServiceLifetime.html">ServiceLifetime</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Exceptions</h3>
                <ul class="nav-list">
                    <li><a href="Exceptions/ContainerExceptions.html">ContainerExceptions</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel</h3>
                <ul class="nav-list">
                    <li><a href="Kernel/KernelCompiler.html">KernelCompiler</a></li>
                    <li><a href="Kernel/KernelConfig.html">KernelConfig</a></li>
                    <li><a href="Kernel/KernelFacade.html">KernelFacade</a></li>
                    <li><a href="Kernel/KernelRuntime.html">KernelRuntime</a></li>
                    <li><a href="Kernel/KernelState.html">KernelState</a></li>
                    <li><a href="Kernel/LifecycleResolver.html">LifecycleResolver</a></li>
                    <li><a href="Kernel/LifecycleStrategyRegistry.html">LifecycleStrategyRegistry</a></li>
                    <li><a href="Kernel/ResolutionPipeline.html">ResolutionPipeline</a></li>
                    <li><a href="Kernel/ResolutionPipelineBuilder.html">ResolutionPipelineBuilder</a></li>
                    <li><a href="Kernel/StepTelemetryCollector.html">StepTelemetryCollector</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Contracts</h3>
                <ul class="nav-list">
                    <li><a href="Kernel/Contracts/KernelContext.html">KernelContext</a></li>
                    <li><a href="Kernel/Contracts/KernelStep.html">KernelStep</a></li>
                    <li><a href="Kernel/Contracts/LifecycleStrategy.html">LifecycleStrategy</a></li>
                    <li><a href="Kernel/Contracts/StepTelemetry.html">StepTelemetry</a></li>
                    <li><a href="Kernel/Contracts/TerminalKernelStep.html">TerminalKernelStep</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Events</h3>
                <ul class="nav-list">
                    <li><a href="Kernel/Events/StepFailed.html">StepFailed</a></li>
                    <li><a href="Kernel/Events/StepStarted.html">StepStarted</a></li>
                    <li><a href="Kernel/Events/StepSucceeded.html">StepSucceeded</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Steps</h3>
                <ul class="nav-list">
                    <li><a href="Kernel/Steps/AnalyzePrototypeStep.html">AnalyzePrototypeStep</a></li>
                    <li><a href="Kernel/Steps/ApplyExtendersStep.html">ApplyExtendersStep</a></li>
                    <li><a href="Kernel/Steps/CircularDependencyStep.html">CircularDependencyStep</a></li>
                    <li><a href="Kernel/Steps/CollectDiagnosticsStep.html">CollectDiagnosticsStep</a></li>
                    <li><a href="Kernel/Steps/DepthGuardStep.html">DepthGuardStep</a></li>
                    <li><a href="Kernel/Steps/EnsureDefinitionExistsStep.html">EnsureDefinitionExistsStep</a></li>
                    <li><a href="Kernel/Steps/GuardPolicyStep.html">GuardPolicyStep</a></li>
                    <li><a href="Kernel/Steps/InjectDependenciesStep.html">InjectDependenciesStep</a></li>
                    <li><a href="Kernel/Steps/InvokePostConstructStep.html">InvokePostConstructStep</a></li>
                    <li><a href="Kernel/Steps/ResolveInstanceStep.html">ResolveInstanceStep</a></li>
                    <li><a href="Kernel/Steps/RetrieveFromScopeStep.html">RetrieveFromScopeStep</a></li>
                    <li><a href="Kernel/Steps/StoreLifecycleStep.html">StoreLifecycleStep</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Kernel/Strategies</h3>
                <ul class="nav-list">
                    <li><a href="Kernel/Strategies/ScopedLifecycleStrategy.html">ScopedLifecycleStrategy</a></li>
                    <li><a href="Kernel/Strategies/SingletonLifecycleStrategy.html">SingletonLifecycleStrategy</a></li>
                    <li><a href="Kernel/Strategies/TransientLifecycleStrategy.html">TransientLifecycleStrategy</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Core/Utils</h3>
                <ul class="nav-list">
                    <li><a href="Utils/ArrayTools.html">ArrayTools</a></li>
                    <li><a href="Utils/StrTools.html">StrTools</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Bind</h3>
                <ul class="nav-list">
                    <li><a href="../Define/Bind/BindingBuilder.html">BindingBuilder</a></li>
                    <li><a href="../Define/Bind/ContextBuilder.html">ContextBuilder</a></li>
                    <li><a href="../Define/Bind/Registrar.html">Registrar</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Store</h3>
                <ul class="nav-list">
                    <li><a href="../Define/Store/DefinitionStore.html">DefinitionStore</a></li>
                    <li><a href="../Define/Store/ServiceDefinition.html">ServiceDefinition</a></li>
                    <li><a href="../Define/Store/ServiceDefinitionEntity.html">ServiceDefinitionEntity</a></li>
                    <li><a href="../Define/Store/ServiceDiscovery.html">ServiceDiscovery</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Define/Store/Compiler</h3>
                <ul class="nav-list">
                    <li><a href="../Define/Store/Compiler/CompilerPassInterface.html">CompilerPassInterface</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke</h3>
                <ul class="nav-list">
                    <li><a href="../Invoke/InvocationExecutor.html">InvocationExecutor</a></li>
                    <li><a href="../Invoke/InvokeAction.html">InvokeAction</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke/Cache</h3>
                <ul class="nav-list">
                    <li><a href="../Invoke/Cache/ReflectionCache.html">ReflectionCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Invoke/Context</h3>
                <ul class="nav-list">
                    <li><a href="../Invoke/Context/InvocationContext.html">InvocationContext</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate</h3>
                <ul class="nav-list">
                    <li><a href="../Operate/ScopeManager.html">ScopeManager</a></li>
                    <li><a href="../Operate/ScopeRegistry.html">ScopeRegistry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Boot</h3>
                <ul class="nav-list">
                    <li><a href="../Operate/Boot/Application.html">Application</a></li>
                    <li><a href="../Operate/Boot/ApplicationBuilder.html">ApplicationBuilder</a></li>
                    <li><a href="../Operate/Boot/ContainerBootstrapper.html">ContainerBootstrapper</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Config</h3>
                <ul class="nav-list">
                    <li><a href="../Operate/Config/BootstrapProfile.html">BootstrapProfile</a></li>
                    <li><a href="../Operate/Config/ContainerConfig.html">ContainerConfig</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Scope</h3>
                <ul class="nav-list">
                    <li><a href="../Operate/Scope/ScopeManager.html">ScopeManager</a></li>
                    <li><a href="../Operate/Scope/ScopeRegistry.html">ScopeRegistry</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Operate/Shutdown</h3>
                <ul class="nav-list">
                    <li><a href="../Operate/Shutdown/TerminateContainer.html">TerminateContainer</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve</h3>
                <ul class="nav-list">
                    <li><a href="../Resolve/DependencyResolver.html">DependencyResolver</a></li>
                    <li><a href="../Resolve/ResolutionContext.html">ResolutionContext</a></li>
                    <li><a href="../Resolve/ResolutionEngine.html">ResolutionEngine</a></li>
                    <li><a href="../Resolve/ResolutionPipeline.html">ResolutionPipeline</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve/Pipes</h3>
                <ul class="nav-list">
                    <li><a href="../Resolve/Pipes/AutowirePipe.html">AutowirePipe</a></li>
                    <li><a href="../Resolve/Pipes/BindingPipe.html">BindingPipe</a></li>
                    <li><a href="../Resolve/Pipes/ScopePipe.html">ScopePipe</a></li>
                    <li><a href="../Resolve/Pipes/TerminalPipe.html">TerminalPipe</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Resolve/Resolvers</h3>
                <ul class="nav-list">
                    <li><a href="../Resolve/Resolvers/DefaultResolver.html">DefaultResolver</a></li>
                    <li><a href="../Resolve/Resolvers/ExceptionResolver.html">ExceptionResolver</a></li>
                    <li><a href="../Resolve/Resolvers/NullResolver.html">NullResolver</a></li>
                    <li><a href="../Resolve/Resolvers/OverrideResolver.html">OverrideResolver</a></li>
                    <li><a href="../Resolve/Resolvers/ParameterResolutionChain.html">ParameterResolutionChain</a></li>
                    <li><a href="../Resolve/Resolvers/ParameterResolver.html">ParameterResolver</a></li>
                    <li><a href="../Resolve/Resolvers/TypeResolver.html">TypeResolver</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Analyze</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Analyze/PrototypeAnalyzer.html">PrototypeAnalyzer</a></li>
                    <li><a href="../Think/Analyze/ReflectionTypeAnalyzer.html">ReflectionTypeAnalyzer</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Cache</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Cache/FilePrototypeCache.html">FilePrototypeCache</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Model</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Model/MethodPrototype.html">MethodPrototype</a></li>
                    <li><a href="../Think/Model/ParameterPrototype.html">ParameterPrototype</a></li>
                    <li><a href="../Think/Model/PropertyPrototype.html">PropertyPrototype</a></li>
                    <li><a href="../Think/Model/ServicePrototype.html">ServicePrototype</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Prototype</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Prototype/ServicePrototypeFactory.html">ServicePrototypeFactory</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Prototype/Contracts</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Prototype/Contracts/ServicePrototypeFactoryInterface.html">ServicePrototypeFactoryInterface</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Think/Verify</h3>
                <ul class="nav-list">
                    <li><a href="../Think/Verify/VerifyPrototype.html">VerifyPrototype</a></li>
                </ul>
            </div>
            <div class="nav-section">
                <h3 class="nav-title">Guidelines</h3>
                <ul class="nav-list">
                    <li><a href="../../master-prompt.html">Master Prompt</a></li>
                </ul>
            </div>
        </nav>
    </aside>
    <main class="content">
        <section class="hero">
            <h1>ContainerConfig</h1>
            <p>Configuration class for Container setup.</p>
            <div class="meta">Foundation/Container/Core/ContainerConfig.php</div>
        </section>

        <section class="section">
            <h2>Class Overview</h2>
            <div class="card">
                <p>ContainerConfig provides a centralized way to configure container components and settings before constructing the ContainerKernel. It acts as an immutable configuration builder for customizing container behavior.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To separate configuration from container implementation</p>
                    <p>- To enable immutable configuration building</p>
                    <p>- To provide type-safe configuration access</p>
                    <p>- To support configuration inheritance and merging</p>
                    <p><strong>HOW IT FITS IN THE ARCHITECTURE:</strong></p>
                    <p>The config is passed to ContainerKernel during construction:</p>
                    <p><code>ContainerKernel</code> ← <code>ContainerConfig</code> ← Builder/Config classes</p>
                    <p>It contains settings that influence how the kernel assembles its internal components like pipelines, scopes, and caches.</p>
                    <p><strong>IMMUTABLE DESIGN:</strong></p>
                    <p>The class is readonly and all methods return new instances rather than modifying the current one. This ensures thread safety and predictable behavior.</p>
                    <p><strong>CONFIGURATION SOURCES:</strong></p>
                    <p>Settings can come from:</p>
                    <p>- Environment variables</p>
                    <p>- Configuration files</p>
                    <p>- Builder method calls</p>
                    <p>- Runtime parameters</p>
                </details>
            </div>
        </section>

        <section class="section">
            <h2>Usage Example</h2>
            <div class="card">
                <pre><code class="language-php">// Basic configuration
$config = new ContainerConfig([
    'cache_enabled' => true,
    'debug_mode' => false,
    'max_scope_depth' => 10
]);

// Immutable updates
$newConfig = $config->withSettings([
    'debug_mode' => true
]);

// Access settings
$cacheEnabled = $config->get('cache_enabled', false);
$hasDebug = $config->has('debug_mode');</code></pre>
                <details class="more">
                    <summary>More</summary>
                    <p>The configuration follows an immutable builder pattern. Each modification returns a new instance, preserving the original. This is important for dependency injection where configurations might be shared or reused.</p>
                </details>
            </div>
        </section>

        <section class="section">
            <h2>Methods</h2>

            <div class="card" id="__construct">
                <h3>__construct</h3>
                <p>Initialize config with settings array.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To provide the primary way to create configuration instances</p>
                    <p>- To accept initial settings during instantiation</p>
                    <p>- To establish the baseline configuration state</p>
                    <p><strong>PARAMETER STRUCTURE:</strong></p>
                    <p>The settings array can contain any key-value pairs:</p>
                    <p>- Primitive values (strings, numbers, booleans)</p>
                    <p>- Arrays for complex configurations</p>
                    <p>- Objects for advanced scenarios</p>
                    <p><strong>DEFAULT BEHAVIOR:</strong></p>
                    <p>If no settings are provided, an empty array is used, allowing all methods to work with their default parameters.</p>
                    <p><strong>VALIDATION:</strong></p>
                    <p>The constructor doesn't validate settings - validation happens when the config is used by the kernel.</p>
                </details>
            </div>

            <div class="card" id="withSettings">
                <h3>withSettings</h3>
                <p>Create a new config instance with updated settings.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To enable immutable configuration updates</p>
                    <p>- To support method chaining for complex configurations</p>
                    <p>- To preserve original config instances for reuse</p>
                    <p><strong>IMMUTABLE PATTERN:</strong></p>
                    <p>This method returns a new ContainerConfig instance instead of modifying the current one:</p>
                    <p><code>$original</code> → <code>$updated = $original->withSettings([...])</code></p>
                    <p>Both instances remain valid and independent.</p>
                    <p><strong>MERGING STRATEGY:</strong></p>
                    <p>Settings are merged with <code>array_merge()</code>, meaning:</p>
                    <p>- New settings override existing ones with the same key</p>
                    <p>- New keys are added to the configuration</p>
                    <p>- Original settings are preserved if not overridden</p>
                    <p><strong>USE CASES:</strong></p>
                    <p>- Building configurations incrementally</p>
                    <p>- Creating variants from base configurations</p>
                    <p>- Test-specific configuration overrides</p>
                </details>
            </div>

            <div class="card" id="get">
                <h3>get</h3>
                <p>Get a setting value with optional default.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To provide safe access to configuration values</p>
                    <p>- To support optional configuration with sensible defaults</p>
                    <p>- To avoid direct array access and key existence checks</p>
                    <p><strong>NULL COALESCING:</strong></p>
                    <p>Uses PHP's null coalescing operator (<code>??</code>) for clean default handling:</p>
                    <p><code>return $this->settings[$key] ?? $default;</code></p>
                    <p>This works for any value type, including <code>null</code> itself.</p>
                    <p><strong>TYPE SAFETY:</strong></p>
                    <p>The method signature uses <code>mixed</code> to allow any type of setting value. Type checking should happen at the usage site where the specific type is known.</p>
                    <p><strong>PERFORMANCE:</strong></p>
                    <p>Array key lookup is O(1), making this method very fast for frequent access patterns.</p>
                </details>
            </div>

            <div class="card" id="has">
                <h3>has</h3>
                <p>Check if a setting exists.</p>
                <details class="more">
                    <summary>More</summary>
                    <p><strong>WHY IT EXISTS:</strong></p>
                    <p>- To distinguish between missing keys and null values</p>
                    <p>- To enable conditional logic based on configuration presence</p>
                    <p>- To support optional configuration sections</p>
                    <p><strong>DIFFERENCE FROM get():</strong></p>
                    <p>- <code>has()</code>: Checks if key exists (even if value is null)</p>
                    <p>- <code>get()</code>: Returns value or default (doesn't distinguish null from missing)</p>
                    <p><strong>PHP FUNCTION:</strong></p>
                    <p>Uses <code>array_key_exists()</code> instead of <code>isset()</code> to properly detect null values:</p>
                    <p><code>isset($array['key'])</code> returns false for null values</p>
                    <p><code>array_key_exists('key', $array)</code> returns true even for null values</p>
                    <p><strong>USE CASES:</strong></p>
                    <p>- Checking for optional configuration sections</p>
                    <p>- Distinguishing explicit null settings from missing defaults</p>
                    <p>- Feature toggling based on configuration presence</p>
                </details>
            </div>
        </section>
    </main>
</div>
</body>
</html>